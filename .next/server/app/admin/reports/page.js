(()=>{var e={};e.id=1375,e.ids=[1375],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},75037:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(79284),t(84752),t(35866);var a=t(23191),r=t(88716),i=t(37922),l=t.n(i),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["admin",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,79284)),"/home/deppi/ChronosSystem/app/admin/reports/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,84752)),"/home/deppi/ChronosSystem/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/deppi/ChronosSystem/app/admin/reports/page.tsx"],m="/admin/reports/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/reports/page",pathname:"/admin/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},52397:(e,s,t)=>{Promise.resolve().then(t.bind(t,83237))},17080:(e,s,t)=>{Promise.resolve().then(t.bind(t,78143))},72322:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},83237:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(10326),r=t(77109),i=t(35047),l=t(17577),n=t(90434),d=t(86333),o=t(31540),c=t(24061),m=t(48998),x=t(37202),h=t(17069),p=t(36283),u=t(37358),j=t(21021),f=t(3679),v=t(13431);function y(){let{data:e,status:s}=(0,r.useSession)();(0,i.useRouter)();let[t,y]=(0,l.useState)(null),[N,b]=(0,l.useState)(!0),[g,w]=(0,l.useState)("30"),[k,Z]=(0,l.useState)("ALL"),P=async e=>{try{let s=await fetch(`/api/reports/download?format=${e}&period=${g}&user=${k}`);if(s.ok){let t=await s.blob(),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`relatorio-ponto-${new Date().toISOString().split("T")[0]}.${e}`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)}}catch(e){}};return"loading"===s||N?a.jsx(v.gb,{}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:[a.jsx("div",{className:"bg-neutral-800/50 border-b border-neutral-700",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(f.z,{asChild:!0,variant:"ghost",size:"sm",children:(0,a.jsxs)(n.default,{href:"/admin",children:[a.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Voltar ao Dashboard"]})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Relat\xf3rios"}),a.jsx("p",{className:"text-neutral-400",children:"An\xe1lise de dados de ponto"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(f.z,{onClick:()=>P("csv"),variant:"ghost",children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"CSV"]}),(0,a.jsxs)(f.z,{onClick:()=>P("pdf"),children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[a.jsx(j.Zb,{className:"mb-6",children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Per\xedodo"}),(0,a.jsxs)("select",{className:"input",value:g,onChange:e=>w(e.target.value),children:[a.jsx("option",{value:"7",children:"\xdaltimos 7 dias"}),a.jsx("option",{value:"30",children:"\xdaltimos 30 dias"}),a.jsx("option",{value:"90",children:"\xdaltimos 90 dias"}),a.jsx("option",{value:"365",children:"\xdaltimo ano"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Usu\xe1rio"}),(0,a.jsxs)("select",{className:"input",value:k,onChange:e=>Z(e.target.value),children:[a.jsx("option",{value:"ALL",children:"Todos os usu\xe1rios"}),a.jsx("option",{value:"EMPLOYEE",children:"Apenas estagi\xe1rios"}),a.jsx("option",{value:"SUPERVISOR",children:"Apenas supervisores"})]})]})]})})}),t&&(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[a.jsx(j.Zb,{children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Total de Usu\xe1rios"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.totalUsers})]}),a.jsx(c.Z,{className:"h-8 w-8 text-primary"})]})})}),a.jsx(j.Zb,{children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Registros de Ponto"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.totalRecords})]}),a.jsx(m.Z,{className:"h-8 w-8 text-success"})]})})}),a.jsx(j.Zb,{children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Atrasos"}),a.jsx("p",{className:"text-2xl font-bold text-warning",children:t.lateRecords})]}),a.jsx(x.Z,{className:"h-8 w-8 text-warning"})]})})}),a.jsx(j.Zb,{children:a.jsx(j.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Faltas"}),a.jsx("p",{className:"text-2xl font-bold text-error",children:t.absences})]}),a.jsx(h.Z,{className:"h-8 w-8 text-error"})]})})})]}),t&&t.monthlyData&&(0,a.jsxs)(j.Zb,{className:"mb-6",children:[a.jsx(j.Ol,{children:a.jsx(j.ll,{children:"Registros por M\xeas"})}),a.jsx(j.aY,{children:a.jsx("div",{className:"space-y-4",children:t.monthlyData.map((e,s)=>a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:e.month}),(0,a.jsxs)("span",{className:"text-sm text-neutral-400",children:[e.records," registros"]})]}),a.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min(e.records/Math.max(...t.monthlyData.map(e=>e.records))*100,100)}%`}})}),e.lateRecords>0&&(0,a.jsxs)("div",{className:"text-xs text-warning mt-1",children:[e.lateRecords," atrasos"]})]})},s))})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[a.jsx(j.Zb,{children:(0,a.jsxs)(j.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(p.Z,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:"Relat\xf3rio Detalhado"}),a.jsx("p",{className:"text-sm text-neutral-400",children:"Visualizar todos os registros"})]})]}),a.jsx(f.z,{asChild:!0,className:"w-full mt-4",variant:"ghost",children:a.jsx(n.default,{href:"/admin/reports/detailed",children:"Ver Detalhes"})})]})}),a.jsx(j.Zb,{children:(0,a.jsxs)(j.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(x.Z,{className:"h-8 w-8 text-warning"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:"Justificativas"}),a.jsx("p",{className:"text-sm text-neutral-400",children:"Atrasos e faltas pendentes"})]})]}),a.jsx(f.z,{asChild:!0,className:"w-full mt-4",variant:"ghost",children:a.jsx(n.default,{href:"/admin/reports/justifications",children:"Ver Justificativas"})})]})}),a.jsx(j.Zb,{children:(0,a.jsxs)(j.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(u.Z,{className:"h-8 w-8 text-success"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:"Frequ\xeancia"}),a.jsx("p",{className:"text-sm text-neutral-400",children:"An\xe1lise de frequ\xeancia mensal"})]})]}),a.jsx(f.z,{asChild:!0,className:"w-full mt-4",variant:"ghost",children:a.jsx(n.default,{href:"/admin/reports/frequency",children:"Ver Frequ\xeancia"})})]})})]})]})]}):null}},78143:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>l});var a=t(10326),r=t(77109),i=t(85999);function l({children:e}){return(0,a.jsxs)(r.SessionProvider,{children:[e,a.jsx(i.x7,{position:"top-right",toastOptions:{style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})}},3679:(e,s,t)=>{"use strict";t.d(s,{z:()=>n});var a=t(10326),r=t(17577),i=t.n(r),l=t(77863);let n=i().forwardRef(({className:e,variant:s="primary",size:t="md",loading:r=!1,asChild:n=!1,children:d,disabled:o,...c},m)=>{let x=(0,l.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[s],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[t],r&&"opacity-50 cursor-not-allowed",e);return n?i().cloneElement(d,{className:(0,l.cn)(x,d.props?.className),...c}):(0,a.jsxs)("button",{className:x,ref:m,disabled:o||r,...c,children:[r&&a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),d]})});n.displayName="Button"},21021:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>d,Zb:()=>n,aY:()=>c,ll:()=>o});var a=t(10326),r=t(17577),i=t.n(r),l=t(77863);let n=i().forwardRef(({className:e,variant:s="default",children:t,...r},i)=>a.jsx("div",{ref:i,className:(0,l.cn)({default:"card",glass:"card glass",elevated:"card shadow-xl hover:shadow-2xl transition-shadow duration-300"}[s],e),...r,children:t}));n.displayName="Card";let d=i().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let o=i().forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle",i().forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let c=i().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",i().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},13431:(e,s,t)=>{"use strict";t.d(s,{gb:()=>i});var a=t(10326);t(17577);var r=t(77863);function i({size:e="md",className:s,text:t}){return(0,a.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center justify-center space-y-2",s),children:[a.jsx("div",{className:(0,r.cn)("animate-spin rounded-full border-2 border-primary border-t-transparent",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])}),t&&a.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:t})]})}},77863:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(41135),r=t(31009);function i(...e){return(0,r.m6)((0,a.W)(e))}},37202:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},31540:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},36283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},17069:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},35047:(e,s,t)=>{"use strict";var a=t(77389);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},79284:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/admin/reports/page.tsx#default`)},84752:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,metadata:()=>n,viewport:()=>d});var a=t(19510),r=t(85384),i=t.n(r);t(67272);let l=(0,t(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/providers.tsx#Providers`),n={title:"Chronos System - Sistema de Ponto Eletr\xf4nico",description:"Sistema moderno de registro de ponto eletr\xf4nico para estagi\xe1rios",keywords:["ponto eletr\xf4nico","registro","estagi\xe1rios","controle de ponto"],authors:[{name:"Chronos System"}],manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"},other:{"permissions-policy":"camera=*, microphone=*, geolocation=*","feature-policy":"camera *; microphone *; geolocation *"}},d={width:"device-width",initialScale:1,themeColor:"#10B981"};function o({children:e}){return a.jsx("html",{lang:"pt-BR",className:"dark",children:a.jsx("body",{className:i().className,children:a.jsx(l,{children:e})})})}},67272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,1141,7405,434],()=>t(75037));module.exports=a})();