(()=>{var e={};e.id=1375,e.ids=[1375],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},75037:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(79284),t(84752),t(35866);var r=t(23191),a=t(88716),l=t(37922),i=t.n(l),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["admin",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,79284)),"/home/deppi/ChronosSystem/app/admin/reports/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,84752)),"/home/deppi/ChronosSystem/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/deppi/ChronosSystem/app/admin/reports/page.tsx"],m="/admin/reports/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/reports/page",pathname:"/admin/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},52397:(e,s,t)=>{Promise.resolve().then(t.bind(t,83237))},17080:(e,s,t)=>{Promise.resolve().then(t.bind(t,78143))},72322:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},83237:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(10326),a=t(77109),l=t(35047),i=t(17577),n=t(90434),d=t(86333),o=t(31540),c=t(24061),m=t(48998),x=t(37202),h=t(17069),p=t(36283),u=t(37358),j=t(21021),f=t(3679),v=t(13431);function y(){let{data:e,status:s}=(0,a.useSession)();(0,l.useRouter)();let[t,y]=(0,i.useState)(null),[b,N]=(0,i.useState)(!0),[g,w]=(0,i.useState)("30"),[k,Z]=(0,i.useState)("ALL"),P=async e=>{try{let s=await fetch(`/api/reports/download?format=${e}&period=${g}&user=${k}`);if(s.ok){let t=await s.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`relatorio-ponto-${new Date().toISOString().split("T")[0]}.${e}`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a)}}catch(e){console.error("Erro ao baixar relat\xf3rio:",e)}};return"loading"===s||b?r.jsx(v.gb,{}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:[r.jsx("div",{className:"bg-neutral-800/50 border-b border-neutral-700",children:r.jsx("div",{className:"container mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(f.z,{asChild:!0,variant:"ghost",size:"sm",children:(0,r.jsxs)(n.default,{href:"/admin",children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Voltar ao Dashboard"]})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Relat\xf3rios"}),r.jsx("p",{className:"text-neutral-400",children:"An\xe1lise de dados de ponto"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(f.z,{onClick:()=>P("csv"),variant:"ghost",children:[r.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"CSV"]}),(0,r.jsxs)(f.z,{onClick:()=>P("pdf"),children:[r.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})})}),(0,r.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[r.jsx(j.Zb,{className:"mb-6",children:r.jsx(j.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Per\xedodo"}),(0,r.jsxs)("select",{className:"input",value:g,onChange:e=>w(e.target.value),children:[r.jsx("option",{value:"7",children:"\xdaltimos 7 dias"}),r.jsx("option",{value:"30",children:"\xdaltimos 30 dias"}),r.jsx("option",{value:"90",children:"\xdaltimos 90 dias"}),r.jsx("option",{value:"365",children:"\xdaltimo ano"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Usu\xe1rio"}),(0,r.jsxs)("select",{className:"input",value:k,onChange:e=>Z(e.target.value),children:[r.jsx("option",{value:"ALL",children:"Todos os usu\xe1rios"}),r.jsx("option",{value:"EMPLOYEE",children:"Apenas estagi\xe1rios"}),r.jsx("option",{value:"SUPERVISOR",children:"Apenas supervisores"})]})]})]})})}),t&&(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[r.jsx(j.Zb,{children:r.jsx(j.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Total de Usu\xe1rios"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:t.totalUsers})]}),r.jsx(c.Z,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(j.Zb,{children:r.jsx(j.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Registros de Ponto"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:t.totalRecords})]}),r.jsx(m.Z,{className:"h-8 w-8 text-success"})]})})}),r.jsx(j.Zb,{children:r.jsx(j.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Atrasos"}),r.jsx("p",{className:"text-2xl font-bold text-warning",children:t.lateRecords})]}),r.jsx(x.Z,{className:"h-8 w-8 text-warning"})]})})}),r.jsx(j.Zb,{children:r.jsx(j.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Faltas"}),r.jsx("p",{className:"text-2xl font-bold text-error",children:t.absences})]}),r.jsx(h.Z,{className:"h-8 w-8 text-error"})]})})})]}),t&&t.monthlyData&&(0,r.jsxs)(j.Zb,{className:"mb-6",children:[r.jsx(j.Ol,{children:r.jsx(j.ll,{children:"Registros por M\xeas"})}),r.jsx(j.aY,{children:r.jsx("div",{className:"space-y-4",children:t.monthlyData.map((e,s)=>r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-white",children:e.month}),(0,r.jsxs)("span",{className:"text-sm text-neutral-400",children:[e.records," registros"]})]}),r.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min(e.records/Math.max(...t.monthlyData.map(e=>e.records))*100,100)}%`}})}),e.lateRecords>0&&(0,r.jsxs)("div",{className:"text-xs text-warning mt-1",children:[e.lateRecords," atrasos"]})]})},s))})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[r.jsx(j.Zb,{children:(0,r.jsxs)(j.aY,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(p.Z,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:"Relat\xf3rio Detalhado"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Visualizar todos os registros"})]})]}),r.jsx(f.z,{asChild:!0,className:"w-full mt-4",variant:"ghost",children:r.jsx(n.default,{href:"/admin/reports/detailed",children:"Ver Detalhes"})})]})}),r.jsx(j.Zb,{children:(0,r.jsxs)(j.aY,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(x.Z,{className:"h-8 w-8 text-warning"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:"Justificativas"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Atrasos e faltas pendentes"})]})]}),r.jsx(f.z,{asChild:!0,className:"w-full mt-4",variant:"ghost",children:r.jsx(n.default,{href:"/admin/reports/justifications",children:"Ver Justificativas"})})]})}),r.jsx(j.Zb,{children:(0,r.jsxs)(j.aY,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(u.Z,{className:"h-8 w-8 text-success"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:"Frequ\xeancia"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"An\xe1lise de frequ\xeancia mensal"})]})]}),r.jsx(f.z,{asChild:!0,className:"w-full mt-4",variant:"ghost",children:r.jsx(n.default,{href:"/admin/reports/frequency",children:"Ver Frequ\xeancia"})})]})})]})]})]}):null}},78143:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>i});var r=t(10326),a=t(77109),l=t(85999);function i({children:e}){return(0,r.jsxs)(a.SessionProvider,{children:[e,r.jsx(l.x7,{position:"top-right",toastOptions:{style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})}},3679:(e,s,t)=>{"use strict";t.d(s,{z:()=>n});var r=t(10326),a=t(17577),l=t.n(a),i=t(77863);let n=l().forwardRef(({className:e,variant:s="primary",size:t="md",loading:a=!1,asChild:n=!1,children:d,disabled:o,...c},m)=>{let x=(0,i.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[s],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[t],a&&"opacity-50 cursor-not-allowed",e);return n?l().cloneElement(d,{className:(0,i.cn)(x,d.props?.className),...c}):(0,r.jsxs)("button",{className:x,ref:m,disabled:o||a,...c,children:[a&&r.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),d]})});n.displayName="Button"},21021:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>d,Zb:()=>n,aY:()=>c,ll:()=>o});var r=t(10326),a=t(17577),l=t.n(a),i=t(77863);let n=l().forwardRef(({className:e,variant:s="default",children:t,...a},l)=>r.jsx("div",{ref:l,className:(0,i.cn)({default:"card",glass:"card glass",elevated:"card shadow-xl hover:shadow-2xl transition-shadow duration-300"}[s],e),...a,children:t}));n.displayName="Card";let d=l().forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let o=l().forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle",l().forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let c=l().forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",l().forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},13431:(e,s,t)=>{"use strict";t.d(s,{gb:()=>l});var r=t(10326);t(17577);var a=t(77863);function l({size:e="md",className:s,text:t}){return(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center space-y-2",s),children:[r.jsx("div",{className:(0,a.cn)("animate-spin rounded-full border-2 border-primary border-t-transparent",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])}),t&&r.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:t})]})}},77863:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var r=t(41135),a=t(31009);function l(...e){return(0,a.m6)((0,r.W)(e))}},37202:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},31540:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},36283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},17069:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},90434:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(79404),a=t.n(r)},35047:(e,s,t)=>{"use strict";var r=t(77389);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},79284:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/admin/reports/page.tsx#default`)},84752:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,metadata:()=>n});var r=t(19510),a=t(85384),l=t.n(a);t(67272);let i=(0,t(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/providers.tsx#Providers`),n={title:"Chronos System - Sistema de Ponto Eletr\xf4nico",description:"Sistema moderno de registro de ponto eletr\xf4nico para estagi\xe1rios",keywords:["ponto eletr\xf4nico","registro","estagi\xe1rios","controle de ponto"],authors:[{name:"Chronos System"}],viewport:"width=device-width, initial-scale=1",themeColor:"#10B981",manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"}};function d({children:e}){return r.jsx("html",{lang:"pt-BR",className:"dark",children:r.jsx("body",{className:l().className,children:r.jsx(i,{children:e})})})}},67272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,1141,7405,9404],()=>t(75037));module.exports=r})();