(()=>{var e={};e.id=3582,e.ids=[3582],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),s(96947),s(84752),s(35866);var r=s(23191),a=s(88716),n=s(37922),l=s.n(n),i=s(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let d=["",{children:["admin",{children:["reports",{children:["frequency",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,96947)),"/home/deppi/ChronosSystem/app/admin/reports/frequency/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,84752)),"/home/deppi/ChronosSystem/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/home/deppi/ChronosSystem/app/admin/reports/frequency/page.tsx"],x="/admin/reports/frequency/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/reports/frequency/page",pathname:"/admin/reports/frequency",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},35611:(e,t,s)=>{Promise.resolve().then(s.bind(s,54034))},17080:(e,t,s)=>{Promise.resolve().then(s.bind(s,78143))},72322:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},54034:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(10326),a=s(77109),n=s(35047),l=s(17577),i=s(90434),c=s(86333),d=s(24061),o=s(76464);let x=(0,s(76557).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);var m=s(37202),u=s(37358),h=s(21021),p=s(3679),j=s(13431);function f(){let{data:e,status:t}=(0,a.useSession)();(0,n.useRouter)();let[s,f]=(0,l.useState)([]),[y,v]=(0,l.useState)([]),[g,b]=(0,l.useState)(!0),[N,w]=(0,l.useState)("30"),[q,P]=(0,l.useState)("frequency"),[k,C]=(0,l.useState)("desc"),Z=[...s].sort((e,t)=>{let s,r;switch(q){case"frequency":default:s=e.frequencyPercentage,r=t.frequencyPercentage;break;case"name":s=e.user.name,r=t.user.name;break;case"hours":s=e.averageHours,r=t.averageHours;break;case"lates":s=e.lateCount,r=t.lateCount}if("string"==typeof s&&"string"==typeof r)return"asc"===k?s.localeCompare(r):r.localeCompare(s);let a="number"==typeof s?s:0,n="number"==typeof r?r:0;return"asc"===k?a-n:n-a}),S=e=>e>=95?"text-success":e>=85?"text-warning":"text-error",F=e=>e>=95?{text:"Excelente",color:"bg-success/20 text-success"}:e>=85?{text:"Bom",color:"bg-warning/20 text-warning"}:e>=70?{text:"Regular",color:"bg-orange-500/20 text-orange-400"}:{text:"Baixo",color:"bg-error/20 text-error"},M=e=>{switch(e){case"ADMIN":return"text-red-400";case"SUPERVISOR":return"text-yellow-400";case"EMPLOYEE":return"text-blue-400";default:return"text-neutral-400"}},R={totalUsers:s.length,averageFrequency:s.length>0?s.reduce((e,t)=>e+t.frequencyPercentage,0)/s.length:0,excellentUsers:s.filter(e=>e.frequencyPercentage>=95).length,lowFrequencyUsers:s.filter(e=>e.frequencyPercentage<70).length};return"loading"===t||g?r.jsx(j.gb,{}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:[r.jsx("div",{className:"bg-neutral-800/50 border-b border-neutral-700",children:r.jsx("div",{className:"container mx-auto px-6 py-4",children:r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(p.z,{asChild:!0,variant:"ghost",size:"sm",children:(0,r.jsxs)(i.default,{href:"/admin/reports",children:[r.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Voltar aos Relat\xf3rios"]})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"An\xe1lise de Frequ\xeancia"}),r.jsx("p",{className:"text-neutral-400",children:"Relat\xf3rio detalhado de presen\xe7a e pontualidade"})]})]})})})}),(0,r.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[r.jsx(h.Zb,{className:"mb-6",children:r.jsx(h.aY,{className:"p-6",children:r.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Per\xedodo"}),(0,r.jsxs)("select",{className:"input",value:N,onChange:e=>w(e.target.value),children:[r.jsx("option",{value:"7",children:"\xdaltimos 7 dias"}),r.jsx("option",{value:"30",children:"\xdaltimos 30 dias"}),r.jsx("option",{value:"90",children:"\xdaltimos 90 dias"}),r.jsx("option",{value:"365",children:"\xdaltimo ano"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Ordenar por"}),(0,r.jsxs)("select",{className:"input",value:q,onChange:e=>P(e.target.value),children:[r.jsx("option",{value:"frequency",children:"Frequ\xeancia"}),r.jsx("option",{value:"name",children:"Nome"}),r.jsx("option",{value:"hours",children:"Horas M\xe9dias"}),r.jsx("option",{value:"lates",children:"Atrasos"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Ordem"}),(0,r.jsxs)("select",{className:"input",value:k,onChange:e=>C(e.target.value),children:[r.jsx("option",{value:"desc",children:"Decrescente"}),r.jsx("option",{value:"asc",children:"Crescente"})]})]})]})})})}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:[r.jsx(h.Zb,{children:r.jsx(h.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-neutral-400",children:"Total de Usu\xe1rios"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:R.totalUsers})]}),r.jsx(d.Z,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(h.Zb,{children:r.jsx(h.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-neutral-400",children:"Frequ\xeancia M\xe9dia"}),(0,r.jsxs)("p",{className:`text-2xl font-bold ${S(R.averageFrequency)}`,children:[R.averageFrequency.toFixed(1),"%"]})]}),r.jsx(o.Z,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(h.Zb,{children:r.jsx(h.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-neutral-400",children:"Excelente (≥95%)"}),r.jsx("p",{className:"text-2xl font-bold text-success",children:R.excellentUsers})]}),r.jsx(x,{className:"h-8 w-8 text-success"})]})})}),r.jsx(h.Zb,{children:r.jsx(h.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-neutral-400",children:"Baixa Frequ\xeancia (<70%)"}),r.jsx("p",{className:"text-2xl font-bold text-error",children:R.lowFrequencyUsers})]}),r.jsx(m.Z,{className:"h-8 w-8 text-error"})]})})})]}),y.length>0&&(0,r.jsxs)(h.Zb,{className:"mb-6",children:[r.jsx(h.Ol,{children:r.jsx(h.ll,{children:"Tend\xeancia Mensal"})}),r.jsx(h.aY,{children:r.jsx("div",{className:"space-y-4",children:y.map((e,t)=>r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-white",children:e.month}),(0,r.jsxs)("span",{className:"text-sm text-neutral-400",children:[e.averageFrequency.toFixed(1),"% • ",e.totalRecords," registros"]})]}),r.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${e.averageFrequency>=95?"bg-success":e.averageFrequency>=85?"bg-warning":"bg-error"}`,style:{width:`${Math.min(e.averageFrequency,100)}%`}})})]})},t))})})]}),(0,r.jsxs)(h.Zb,{children:[r.jsx(h.Ol,{children:r.jsx(h.ll,{children:"Frequ\xeancia por Usu\xe1rio"})}),r.jsx(h.aY,{children:Z.length>0?r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-neutral-700",children:[r.jsx("th",{className:"text-left py-3 px-4 text-neutral-300 font-medium",children:"Usu\xe1rio"}),r.jsx("th",{className:"text-left py-3 px-4 text-neutral-300 font-medium",children:"Role"}),r.jsx("th",{className:"text-center py-3 px-4 text-neutral-300 font-medium",children:"Frequ\xeancia"}),r.jsx("th",{className:"text-center py-3 px-4 text-neutral-300 font-medium",children:"Dias Presentes"}),r.jsx("th",{className:"text-center py-3 px-4 text-neutral-300 font-medium",children:"Faltas"}),r.jsx("th",{className:"text-center py-3 px-4 text-neutral-300 font-medium",children:"Atrasos"}),r.jsx("th",{className:"text-center py-3 px-4 text-neutral-300 font-medium",children:"Horas M\xe9dias"}),r.jsx("th",{className:"text-center py-3 px-4 text-neutral-300 font-medium",children:"Status"})]})}),r.jsx("tbody",{children:Z.map(e=>{let t=F(e.frequencyPercentage);return(0,r.jsxs)("tr",{className:"border-b border-neutral-800 hover:bg-neutral-800/30",children:[r.jsx("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-white font-medium",children:e.user.name}),r.jsx("p",{className:"text-neutral-400 text-sm",children:e.user.email})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`text-sm font-medium ${M(e.user.role)}`,children:e.user.role})}),r.jsx("td",{className:"py-3 px-4 text-center",children:(0,r.jsxs)("span",{className:`text-lg font-bold ${S(e.frequencyPercentage)}`,children:[e.frequencyPercentage.toFixed(1),"%"]})}),(0,r.jsxs)("td",{className:"py-3 px-4 text-center text-white",children:[e.presentDays,"/",e.totalDays]}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:e.absentDays>0?"text-error":"text-neutral-400",children:e.absentDays})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:e.lateCount>0?"text-warning":"text-neutral-400",children:e.lateCount})}),(0,r.jsxs)("td",{className:"py-3 px-4 text-center text-white",children:[e.averageHours.toFixed(1),"h"]}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t.color}`,children:t.text})})]},e.user.id)})})]})}):(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(u.Z,{className:"h-12 w-12 text-neutral-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhum dado de frequ\xeancia encontrado"}),r.jsx("p",{className:"text-neutral-400",children:"N\xe3o h\xe1 registros suficientes para o per\xedodo selecionado"})]})})]})]})]}):null}},78143:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>l});var r=s(10326),a=s(77109),n=s(85999);function l({children:e}){return(0,r.jsxs)(a.SessionProvider,{children:[e,r.jsx(n.x7,{position:"top-right",toastOptions:{style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})}},3679:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(10326),a=s(17577),n=s.n(a),l=s(77863);let i=n().forwardRef(({className:e,variant:t="primary",size:s="md",loading:a=!1,asChild:i=!1,children:c,disabled:d,...o},x)=>{let m=(0,l.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[t],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[s],a&&"opacity-50 cursor-not-allowed",e);return i?n().cloneElement(c,{className:(0,l.cn)(m,c.props?.className),...o}):(0,r.jsxs)("button",{className:m,ref:x,disabled:d||a,...o,children:[a&&r.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),c]})});i.displayName="Button"},21021:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>c,Zb:()=>i,aY:()=>o,ll:()=>d});var r=s(10326),a=s(17577),n=s.n(a),l=s(77863);let i=n().forwardRef(({className:e,variant:t="default",children:s,...a},n)=>r.jsx("div",{ref:n,className:(0,l.cn)({default:"card",glass:"card glass",elevated:"card shadow-xl hover:shadow-2xl transition-shadow duration-300"}[t],e),...a,children:s}));i.displayName="Card";let c=n().forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));c.displayName="CardHeader";let d=n().forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",n().forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=n().forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",n().forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},13431:(e,t,s)=>{"use strict";s.d(t,{gb:()=>n});var r=s(10326);s(17577);var a=s(77863);function n({size:e="md",className:t,text:s}){return(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center space-y-2",t),children:[r.jsx("div",{className:(0,a.cn)("animate-spin rounded-full border-2 border-primary border-t-transparent",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])}),s&&r.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:s})]})}},77863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(41135),a=s(31009);function n(...e){return(0,a.m6)((0,r.W)(e))}},37202:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},86333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},76464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},90434:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(79404),a=s.n(r)},35047:(e,t,s)=>{"use strict";var r=s(77389);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},96947:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/admin/reports/frequency/page.tsx#default`)},84752:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>i});var r=s(19510),a=s(85384),n=s.n(a);s(67272);let l=(0,s(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/providers.tsx#Providers`),i={title:"Chronos System - Sistema de Ponto Eletr\xf4nico",description:"Sistema moderno de registro de ponto eletr\xf4nico para estagi\xe1rios",keywords:["ponto eletr\xf4nico","registro","estagi\xe1rios","controle de ponto"],authors:[{name:"Chronos System"}],viewport:"width=device-width, initial-scale=1",themeColor:"#10B981",manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"}};function c({children:e}){return r.jsx("html",{lang:"pt-BR",className:"dark",children:r.jsx("body",{className:n().className,children:r.jsx(l,{children:e})})})}},67272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,1141,7405,9404],()=>s(4012));module.exports=r})();