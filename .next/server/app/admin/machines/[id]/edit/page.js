(()=>{var e={};e.id=4505,e.ids=[4505],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78787:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(88213),t(84752),t(35866);var a=t(23191),r=t(88716),n=t(37922),i=t.n(n),l=t(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["admin",{children:["machines",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,88213)),"/home/deppi/ChronosSystem/app/admin/machines/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,84752)),"/home/deppi/ChronosSystem/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/deppi/ChronosSystem/app/admin/machines/[id]/edit/page.tsx"],m="/admin/machines/[id]/edit/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/machines/[id]/edit/page",pathname:"/admin/machines/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},65730:(e,s,t)=>{Promise.resolve().then(t.bind(t,83872))},17080:(e,s,t)=>{Promise.resolve().then(t.bind(t,78143))},72322:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},83872:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(10326),r=t(77109),n=t(35047),i=t(17577),l=t(90434),d=t(86333),o=t(2634),c=t(77636),m=t(88378),x=t(31215),h=t(21021),u=t(3679),p=t(13431);function v({params:e}){let{data:s,status:t}=(0,r.useSession)(),v=(0,n.useRouter)(),[f,j]=(0,i.useState)(null),[b,g]=(0,i.useState)({}),[y,N]=(0,i.useState)(!0),[w,P]=(0,i.useState)(!1),[k,C]=(0,i.useState)({}),S=()=>{let e={};return b.name&&b.name.length<3&&(e.name="Nome deve ter pelo menos 3 caracteres"),b.location&&b.location.length<5&&(e.location="Localiza\xe7\xe3o deve ter pelo menos 5 caracteres"),C(e),0===Object.keys(e).length},q=async s=>{if(s.preventDefault(),S())try{P(!0);let s={};b.name!==f?.name&&(s.name=b.name),b.location!==f?.location&&(s.location=b.location),b.isActive!==f?.isActive&&(s.isActive=b.isActive);let t=await fetch(`/api/machines/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok)v.push("/admin/machines");else{let e=await t.json();C({general:e.error||"Erro ao atualizar m\xe1quina"})}}catch(e){C({general:"Erro interno. Tente novamente."})}finally{P(!1)}};return"loading"===t||y?a.jsx(p.gb,{}):s&&f?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:[a.jsx("div",{className:"bg-neutral-800/50 border-b border-neutral-700",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(u.z,{asChild:!0,variant:"ghost",size:"sm",children:(0,a.jsxs)(l.default,{href:"/admin/machines",children:[a.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Voltar \xe0s M\xe1quinas"]})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Editar M\xe1quina"}),(0,a.jsxs)("p",{className:"text-neutral-400",children:["Atualizar configura\xe7\xf5es de ",f.name]})]})]})})})}),a.jsx("div",{className:"container mx-auto px-6 py-8",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)(h.Zb,{children:[a.jsx(h.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx(o.Z,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[a.jsx(h.ll,{children:"Atualizar Configura\xe7\xf5es"}),a.jsx("p",{className:"text-neutral-400 text-sm",children:"Modifique as informa\xe7\xf5es da m\xe1quina"})]})]})}),a.jsx(h.aY,{children:(0,a.jsxs)("form",{onSubmit:q,className:"space-y-6",children:[k.general&&a.jsx("div",{className:"p-4 bg-error/20 border border-error/50 rounded-lg text-error text-sm",children:k.general}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informa\xe7\xf5es da M\xe1quina"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Nome da M\xe1quina"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),a.jsx("input",{type:"text",placeholder:"Ex: Terminal Principal, Kiosk Recep\xe7\xe3o...",className:`input pl-10 ${k.name?"border-error":""}`,value:b.name||"",onChange:e=>g(s=>({...s,name:e.target.value}))})]}),k.name&&a.jsx("p",{className:"text-error text-xs mt-1",children:k.name})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Localiza\xe7\xe3o"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.Z,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),a.jsx("textarea",{placeholder:"Ex: Recep\xe7\xe3o - T\xe9rreo, Sala de Reuni\xf5es - 2\xba Andar...",className:`input pl-10 min-h-[80px] resize-none ${k.location?"border-error":""}`,value:b.location||"",onChange:e=>g(s=>({...s,location:e.target.value}))})]}),k.location&&a.jsx("p",{className:"text-error text-xs mt-1",children:k.location})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-3",children:"Status da M\xe1quina"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"isActive",checked:!0===b.isActive,onChange:()=>g(e=>({...e,isActive:!0})),className:"w-4 h-4 text-primary bg-neutral-700 border-neutral-600 focus:ring-primary"}),a.jsx("span",{className:"text-success text-sm",children:"Ativa"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"isActive",checked:!1===b.isActive,onChange:()=>g(e=>({...e,isActive:!1})),className:"w-4 h-4 text-primary bg-neutral-700 border-neutral-600 focus:ring-primary"}),a.jsx("span",{className:"text-neutral-500 text-sm",children:"Inativa"})]})]}),a.jsx("p",{className:"text-neutral-500 text-xs mt-1",children:"M\xe1quinas inativas n\xe3o podem gerar QR codes"})]})]}),f._count&&a.jsx("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx(m.Z,{className:"h-5 w-5 text-neutral-400 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Estat\xedsticas da M\xe1quina"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs text-neutral-400",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"block text-neutral-300",children:"Registros de Ponto:"}),a.jsx("span",{className:"text-white font-medium",children:f._count.attendanceRecords||0})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"block text-neutral-300",children:"QR Codes Gerados:"}),a.jsx("span",{className:"text-white font-medium",children:f._count.qrEvents||0})]})]}),(0,a.jsxs)("p",{className:"text-xs text-neutral-500 mt-2",children:["Criada em: ",new Date(f.createdAt).toLocaleDateString("pt-BR")]})]})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-neutral-700",children:[a.jsx(u.z,{asChild:!0,variant:"ghost",children:a.jsx(l.default,{href:"/admin/machines",children:"Cancelar"})}),a.jsx(u.z,{type:"submit",disabled:w,className:"min-w-[150px]",children:w?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Salvando..."})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(x.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Salvar Altera\xe7\xf5es"})]})})]})]})})]})})})]}):null}},78143:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>i});var a=t(10326),r=t(77109),n=t(85999);function i({children:e}){return(0,a.jsxs)(r.SessionProvider,{children:[e,a.jsx(n.x7,{position:"top-right",toastOptions:{style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})}},3679:(e,s,t)=>{"use strict";t.d(s,{z:()=>l});var a=t(10326),r=t(17577),n=t.n(r),i=t(77863);let l=n().forwardRef(({className:e,variant:s="primary",size:t="md",loading:r=!1,asChild:l=!1,children:d,disabled:o,...c},m)=>{let x=(0,i.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[s],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[t],r&&"opacity-50 cursor-not-allowed",e);return l?n().cloneElement(d,{className:(0,i.cn)(x,d.props?.className),...c}):(0,a.jsxs)("button",{className:x,ref:m,disabled:o||r,...c,children:[r&&a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),d]})});l.displayName="Button"},21021:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>d,Zb:()=>l,aY:()=>c,ll:()=>o});var a=t(10326),r=t(17577),n=t.n(r),i=t(77863);let l=n().forwardRef(({className:e,variant:s="default",children:t,...r},n)=>a.jsx("div",{ref:n,className:(0,i.cn)({default:"card",glass:"card glass",elevated:"card shadow-xl hover:shadow-2xl transition-shadow duration-300"}[s],e),...r,children:t}));l.displayName="Card";let d=n().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let o=n().forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle",n().forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let c=n().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",n().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},13431:(e,s,t)=>{"use strict";t.d(s,{gb:()=>n});var a=t(10326);t(17577);var r=t(77863);function n({size:e="md",className:s,text:t}){return(0,a.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center justify-center space-y-2",s),children:[a.jsx("div",{className:(0,r.cn)("animate-spin rounded-full border-2 border-primary border-t-transparent",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])}),t&&a.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:t})]})}},77863:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var a=t(41135),r=t(31009);function n(...e){return(0,r.m6)((0,a.W)(e))}},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},77636:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2634:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},31215:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},88378:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},90434:(e,s,t)=>{"use strict";t.d(s,{default:()=>r.a});var a=t(79404),r=t.n(a)},35047:(e,s,t)=>{"use strict";var a=t(77389);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},88213:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/admin/machines/[id]/edit/page.tsx#default`)},84752:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,metadata:()=>l});var a=t(19510),r=t(85384),n=t.n(r);t(67272);let i=(0,t(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/providers.tsx#Providers`),l={title:"Chronos System - Sistema de Ponto Eletr\xf4nico",description:"Sistema moderno de registro de ponto eletr\xf4nico para estagi\xe1rios",keywords:["ponto eletr\xf4nico","registro","estagi\xe1rios","controle de ponto"],authors:[{name:"Chronos System"}],viewport:"width=device-width, initial-scale=1",themeColor:"#10B981",manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"}};function d({children:e}){return a.jsx("html",{lang:"pt-BR",className:"dark",children:a.jsx("body",{className:n().className,children:a.jsx(i,{children:e})})})}},67272:()=>{}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,1141,7405,9404],()=>t(78787));module.exports=a})();