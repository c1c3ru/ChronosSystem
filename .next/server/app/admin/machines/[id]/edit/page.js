(()=>{var e={};e.id=4505,e.ids=[4505],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78787:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(88213),s(84752),s(35866);var t=s(23191),r=s(88716),n=s(37922),i=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(a,o);let d=["",{children:["admin",{children:["machines",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,88213)),"/home/deppi/ChronosSystem/app/admin/machines/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,84752)),"/home/deppi/ChronosSystem/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/deppi/ChronosSystem/app/admin/machines/[id]/edit/page.tsx"],m="/admin/machines/[id]/edit/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/machines/[id]/edit/page",pathname:"/admin/machines/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},65730:(e,a,s)=>{Promise.resolve().then(s.bind(s,83872))},17080:(e,a,s)=>{Promise.resolve().then(s.bind(s,78143))},72322:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},83872:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>v});var t=s(10326),r=s(77109),n=s(35047),i=s(17577),l=s(90434),o=s(86333),d=s(2634),c=s(77636),m=s(88378),x=s(31215),h=s(21021),u=s(3679),p=s(13431);function v({params:e}){let{data:a,status:s}=(0,r.useSession)(),v=(0,n.useRouter)(),[f,j]=(0,i.useState)(null),[b,g]=(0,i.useState)({}),[y,N]=(0,i.useState)(!0),[w,P]=(0,i.useState)(!1),[S,k]=(0,i.useState)({}),C=()=>{let e={};return b.name&&b.name.length<3&&(e.name="Nome deve ter pelo menos 3 caracteres"),b.location&&b.location.length<5&&(e.location="Localiza\xe7\xe3o deve ter pelo menos 5 caracteres"),k(e),0===Object.keys(e).length},q=async a=>{if(a.preventDefault(),C())try{P(!0);let a={};b.name!==f?.name&&(a.name=b.name),b.location!==f?.location&&(a.location=b.location),b.isActive!==f?.isActive&&(a.isActive=b.isActive);let s=await fetch(`/api/machines/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(s.ok)v.push("/admin/machines");else{let e=await s.json();k({general:e.error||"Erro ao atualizar m\xe1quina"})}}catch(e){k({general:"Erro interno. Tente novamente."})}finally{P(!1)}};return"loading"===s||y?t.jsx(p.gb,{}):a&&f?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:[t.jsx("div",{className:"bg-neutral-800/50 border-b border-neutral-700",children:t.jsx("div",{className:"container mx-auto px-6 py-4",children:t.jsx("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx(u.z,{asChild:!0,variant:"ghost",size:"sm",children:(0,t.jsxs)(l.default,{href:"/admin/machines",children:[t.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Voltar \xe0s M\xe1quinas"]})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Editar M\xe1quina"}),(0,t.jsxs)("p",{className:"text-neutral-400",children:["Atualizar configura\xe7\xf5es de ",f.name]})]})]})})})}),t.jsx("div",{className:"container mx-auto px-6 py-8",children:t.jsx("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(h.Zb,{children:[t.jsx(h.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:t.jsx(d.Z,{className:"h-6 w-6 text-primary"})}),(0,t.jsxs)("div",{children:[t.jsx(h.ll,{children:"Atualizar Configura\xe7\xf5es"}),t.jsx("p",{className:"text-neutral-400 text-sm",children:"Modifique as informa\xe7\xf5es da m\xe1quina"})]})]})}),t.jsx(h.aY,{children:(0,t.jsxs)("form",{onSubmit:q,className:"space-y-6",children:[S.general&&t.jsx("div",{className:"p-4 bg-error/20 border border-error/50 rounded-lg text-error text-sm",children:S.general}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informa\xe7\xf5es da M\xe1quina"}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Nome da M\xe1quina"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),t.jsx("input",{type:"text",placeholder:"Ex: Terminal Principal, Kiosk Recep\xe7\xe3o...",className:`input pl-10 ${S.name?"border-error":""}`,value:b.name||"",onChange:e=>g(a=>({...a,name:e.target.value}))})]}),S.name&&t.jsx("p",{className:"text-error text-xs mt-1",children:S.name})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Localiza\xe7\xe3o"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(c.Z,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),t.jsx("textarea",{placeholder:"Ex: Recep\xe7\xe3o - T\xe9rreo, Sala de Reuni\xf5es - 2\xba Andar...",className:`input pl-10 min-h-[80px] resize-none ${S.location?"border-error":""}`,value:b.location||"",onChange:e=>g(a=>({...a,location:e.target.value}))})]}),S.location&&t.jsx("p",{className:"text-error text-xs mt-1",children:S.location})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-3",children:"Status da M\xe1quina"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"isActive",checked:!0===b.isActive,onChange:()=>g(e=>({...e,isActive:!0})),className:"w-4 h-4 text-primary bg-neutral-700 border-neutral-600 focus:ring-primary"}),t.jsx("span",{className:"text-success text-sm",children:"Ativa"})]}),(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"isActive",checked:!1===b.isActive,onChange:()=>g(e=>({...e,isActive:!1})),className:"w-4 h-4 text-primary bg-neutral-700 border-neutral-600 focus:ring-primary"}),t.jsx("span",{className:"text-neutral-500 text-sm",children:"Inativa"})]})]}),t.jsx("p",{className:"text-neutral-500 text-xs mt-1",children:"M\xe1quinas inativas n\xe3o podem gerar QR codes"})]})]}),f._count&&t.jsx("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx(m.Z,{className:"h-5 w-5 text-neutral-400 mt-0.5"}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Estat\xedsticas da M\xe1quina"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs text-neutral-400",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"block text-neutral-300",children:"Registros de Ponto:"}),t.jsx("span",{className:"text-white font-medium",children:f._count.attendanceRecords||0})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"block text-neutral-300",children:"QR Codes Gerados:"}),t.jsx("span",{className:"text-white font-medium",children:f._count.qrEvents||0})]})]}),(0,t.jsxs)("p",{className:"text-xs text-neutral-500 mt-2",children:["Criada em: ",new Date(f.createdAt).toLocaleDateString("pt-BR")]})]})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-neutral-700",children:[t.jsx(u.z,{asChild:!0,variant:"ghost",children:t.jsx(l.default,{href:"/admin/machines",children:"Cancelar"})}),t.jsx(u.z,{type:"submit",disabled:w,className:"min-w-[150px]",children:w?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Salvando..."})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(x.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Salvar Altera\xe7\xf5es"})]})})]})]})})]})})})]}):null}},78143:(e,a,s)=>{"use strict";s.d(a,{Providers:()=>i});var t=s(10326),r=s(77109),n=s(85999);function i({children:e}){return(0,t.jsxs)(r.SessionProvider,{children:[e,t.jsx(n.x7,{position:"top-right",toastOptions:{style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})}},3679:(e,a,s)=>{"use strict";s.d(a,{z:()=>l});var t=s(10326),r=s(17577),n=s.n(r),i=s(77863);let l=n().forwardRef(({className:e,variant:a="primary",size:s="md",loading:r=!1,asChild:l=!1,children:o,disabled:d,...c},m)=>{let x=(0,i.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[a],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[s],r&&"opacity-50 cursor-not-allowed",e);return l?n().cloneElement(o,{className:(0,i.cn)(x,o.props?.className),...c}):(0,t.jsxs)("button",{className:x,ref:m,disabled:d||r,...c,children:[r&&t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),o]})});l.displayName="Button"},21021:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>o,Zb:()=>l,aY:()=>c,ll:()=>d});var t=s(10326),r=s(17577),n=s.n(r),i=s(77863);let l=n().forwardRef(({className:e,variant:a="default",children:s,...r},n)=>t.jsx("div",{ref:n,className:(0,i.cn)({default:"card",glass:"card glass",elevated:"card shadow-xl hover:shadow-2xl transition-shadow duration-300"}[a],e),...r,children:s}));l.displayName="Card";let o=n().forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));o.displayName="CardHeader";let d=n().forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle",n().forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let c=n().forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",n().forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},13431:(e,a,s)=>{"use strict";s.d(a,{gb:()=>n});var t=s(10326);s(17577);var r=s(77863);function n({size:e="md",className:a,text:s}){return(0,t.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center justify-center space-y-2",a),children:[t.jsx("div",{className:(0,r.cn)("animate-spin rounded-full border-2 border-primary border-t-transparent",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])}),s&&t.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:s})]})}},77863:(e,a,s)=>{"use strict";s.d(a,{cn:()=>n});var t=s(41135),r=s(31009);function n(...e){return(0,r.m6)((0,t.W)(e))}},86333:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},77636:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2634:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(76557).Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},31215:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(76557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},88378:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(76557).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},35047:(e,a,s)=>{"use strict";var t=s(77389);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},88213:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/admin/machines/[id]/edit/page.tsx#default`)},84752:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d,metadata:()=>l,viewport:()=>o});var t=s(19510),r=s(85384),n=s.n(r);s(67272);let i=(0,s(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/providers.tsx#Providers`),l={title:"Chronos System - Sistema de Ponto Eletr\xf4nico",description:"Sistema moderno de registro de ponto eletr\xf4nico para estagi\xe1rios",keywords:["ponto eletr\xf4nico","registro","estagi\xe1rios","controle de ponto"],authors:[{name:"Chronos System"}],manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"},other:{"permissions-policy":"camera=*, microphone=*, geolocation=*","feature-policy":"camera *; microphone *; geolocation *"}},o={width:"device-width",initialScale:1,themeColor:"#10B981"};function d({children:e}){return t.jsx("html",{lang:"pt-BR",className:"dark",children:t.jsx("body",{className:n().className,children:t.jsx(i,{children:e})})})}},67272:()=>{}};var a=require("../../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[9276,1141,3599,325],()=>s(78787));module.exports=t})();