"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/kiosk/qr/route";
exports.ids = ["app/api/kiosk/qr/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fkiosk%2Fqr%2Froute&page=%2Fapi%2Fkiosk%2Fqr%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fkiosk%2Fqr%2Froute.ts&appDir=%2Fhome%2Fdeppi%2FChronosSystem%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fdeppi%2FChronosSystem&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fkiosk%2Fqr%2Froute&page=%2Fapi%2Fkiosk%2Fqr%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fkiosk%2Fqr%2Froute.ts&appDir=%2Fhome%2Fdeppi%2FChronosSystem%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fdeppi%2FChronosSystem&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_deppi_ChronosSystem_app_api_kiosk_qr_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/kiosk/qr/route.ts */ \"(rsc)/./app/api/kiosk/qr/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/kiosk/qr/route\",\n        pathname: \"/api/kiosk/qr\",\n        filename: \"route\",\n        bundlePath: \"app/api/kiosk/qr/route\"\n    },\n    resolvedPagePath: \"/home/deppi/ChronosSystem/app/api/kiosk/qr/route.ts\",\n    nextConfigOutput,\n    userland: _home_deppi_ChronosSystem_app_api_kiosk_qr_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/kiosk/qr/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZraW9zayUyRnFyJTJGcm91dGUmcGFnZT0lMkZhcGklMkZraW9zayUyRnFyJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGa2lvc2slMkZxciUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGZGVwcGklMkZDaHJvbm9zU3lzdGVtJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGZGVwcGklMkZDaHJvbm9zU3lzdGVtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNHO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hyb25vcy1zeXN0ZW0vP2M2MTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvZGVwcGkvQ2hyb25vc1N5c3RlbS9hcHAvYXBpL2tpb3NrL3FyL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9raW9zay9xci9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2tpb3NrL3FyXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9raW9zay9xci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL2RlcHBpL0Nocm9ub3NTeXN0ZW0vYXBwL2FwaS9raW9zay9xci9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkva2lvc2svcXIvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fkiosk%2Fqr%2Froute&page=%2Fapi%2Fkiosk%2Fqr%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fkiosk%2Fqr%2Froute.ts&appDir=%2Fhome%2Fdeppi%2FChronosSystem%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fdeppi%2FChronosSystem&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/kiosk/qr/route.ts":
/*!***********************************!*\
  !*** ./app/api/kiosk/qr/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_qr_security__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/qr-security */ \"(rsc)/./lib/qr-security.ts\");\n\n\n\n// GET /api/kiosk/qr - Gerar QR code para kiosk (sem autenticação)\nasync function GET(request) {\n    try {\n        console.log(\"Kiosk QR API called\");\n        // Para o kiosk, vamos usar uma máquina padrão ou a primeira disponível\n        const machine = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.machine.findFirst({\n            where: {\n                isActive: true\n            }\n        });\n        if (!machine) {\n            // Se não houver máquina, criar uma padrão\n            const defaultMachine = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.machine.create({\n                data: {\n                    name: \"Kiosk Principal\",\n                    location: \"Entrada Principal\",\n                    isActive: true\n                }\n            });\n            return generateQRResponse(defaultMachine.id, defaultMachine.name, defaultMachine.location);\n        }\n        return generateQRResponse(machine.id, machine.name, machine.location);\n    } catch (error) {\n        console.error(\"Erro ao gerar QR code do kiosk:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Erro interno do servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function generateQRResponse(machineId, machineName, location) {\n    console.log(\"\\uD83D\\uDD10 Gerando QR code seguro para m\\xe1quina:\", machineId);\n    try {\n        // Gerar QR code seguro com HMAC-SHA256 (60 segundos de expiração)\n        const secureQR = (0,_lib_qr_security__WEBPACK_IMPORTED_MODULE_2__.generateSecureQR)(machineId, 60);\n        // Extrair nonce do payload de forma segura\n        let nonce;\n        let payload;\n        let expiresAt;\n        try {\n            // Decodificar payload\n            const payloadJson = Buffer.from(secureQR.payload, \"base64url\").toString(\"utf8\");\n            payload = JSON.parse(payloadJson);\n            // Validar payload\n            if (!payload.nonce) {\n                throw new Error(\"Nonce n\\xe3o encontrado no payload\");\n            }\n            if (!payload.timestamp) {\n                throw new Error(\"Timestamp n\\xe3o encontrado no payload\");\n            }\n            if (!payload.expiresIn) {\n                throw new Error(\"expiresIn n\\xe3o encontrado no payload\");\n            }\n            nonce = payload.nonce;\n            // Calcular tempo de expiração baseado no payload\n            expiresAt = new Date(payload.timestamp + payload.expiresIn * 1000);\n            console.log(\"✅ [KIOSK] QR code gerado:\", {\n                machineId,\n                nonce: nonce.substring(0, 8) + \"...\",\n                expiresAt: expiresAt.toISOString(),\n                expiresIn: payload.expiresIn\n            });\n        } catch (decodeError) {\n            console.error(\"❌ [KIOSK] Erro ao decodificar payload do QR:\", decodeError);\n            throw new Error(`Erro ao gerar QR code: ${decodeError.message}`);\n        }\n        // Salvar evento QR no banco para auditoria\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.qrEvent.create({\n            data: {\n                machineId,\n                qrData: secureQR.fullQR,\n                nonce,\n                expiresAt,\n                used: false\n            }\n        });\n        console.log(\"✅ [KIOSK] QR code seguro gerado e salvo no banco\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            qrData: secureQR.fullQR,\n            machineId,\n            machineName,\n            location,\n            expiresAt: expiresAt.toISOString(),\n            validFor: payload.expiresIn,\n            security: {\n                signed: true,\n                algorithm: \"HMAC-SHA256\",\n                version: \"v1\"\n            }\n        });\n    } catch (error) {\n        console.error(\"❌ [KIOSK] Erro ao gerar QR code:\", error);\n        // Verificar se é erro de QR_SECRET\n        if (error.message && error.message.includes(\"QR_SECRET\")) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Erro de configura\\xe7\\xe3o: QR_SECRET n\\xe3o est\\xe1 configurado no servidor\",\n                details: error.message\n            }, {\n                status: 500\n            });\n        }\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVdBLFVBQVVZLFdBQVc7WUFDaENPLFVBQVVwQixRQUFRVSxTQUFTO1lBQzNCVyxVQUFVO2dCQUNSQyxRQUFRO2dCQUNSQyxXQUFXO2dCQUNYQyxTQUFTO1lBQ1g7UUFDRjtJQUNGLEVBQUUsT0FBTy9CLE9BQVk7UUFDbkJiLFFBQVFhLEtBQUssQ0FBQyxvQ0FBb0NBO1FBRWxELG1DQUFtQztRQUNuQyxJQUFJQSxNQUFNc0IsT0FBTyxJQUFJdEIsTUFBTXNCLE9BQU8sQ0FBQ1UsUUFBUSxDQUFDLGNBQWM7WUFDeEQsT0FBT2xELHFEQUFZQSxDQUFDbUIsSUFBSSxDQUFDO2dCQUN2QkQsT0FBTztnQkFDUGlDLFNBQVNqQyxNQUFNc0IsT0FBTztZQUN4QixHQUFHO2dCQUFFcEIsUUFBUTtZQUFJO1FBQ25CO1FBRUEsTUFBTUY7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hyb25vcy1zeXN0ZW0vLi9hcHAvYXBpL2tpb3NrL3FyL3JvdXRlLnRzPzUxNzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWIvcHJpc21hJ1xuaW1wb3J0IHsgZ2VuZXJhdGVTZWN1cmVRUiB9IGZyb20gJ0AvbGliL3FyLXNlY3VyaXR5J1xuXG4vLyBHRVQgL2FwaS9raW9zay9xciAtIEdlcmFyIFFSIGNvZGUgcGFyYSBraW9zayAoc2VtIGF1dGVudGljYcOnw6NvKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdLaW9zayBRUiBBUEkgY2FsbGVkJylcbiAgICAvLyBQYXJhIG8ga2lvc2ssIHZhbW9zIHVzYXIgdW1hIG3DoXF1aW5hIHBhZHLDo28gb3UgYSBwcmltZWlyYSBkaXNwb27DrXZlbFxuICAgIGNvbnN0IG1hY2hpbmUgPSBhd2FpdCBwcmlzbWEubWFjaGluZS5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHsgaXNBY3RpdmU6IHRydWUgfVxuICAgIH0pXG5cbiAgICBpZiAoIW1hY2hpbmUpIHtcbiAgICAgIC8vIFNlIG7Do28gaG91dmVyIG3DoXF1aW5hLCBjcmlhciB1bWEgcGFkcsOjb1xuICAgICAgY29uc3QgZGVmYXVsdE1hY2hpbmUgPSBhd2FpdCBwcmlzbWEubWFjaGluZS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbmFtZTogJ0tpb3NrIFByaW5jaXBhbCcsXG4gICAgICAgICAgbG9jYXRpb246ICdFbnRyYWRhIFByaW5jaXBhbCcsXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgcmV0dXJuIGdlbmVyYXRlUVJSZXNwb25zZShkZWZhdWx0TWFjaGluZS5pZCwgZGVmYXVsdE1hY2hpbmUubmFtZSwgZGVmYXVsdE1hY2hpbmUubG9jYXRpb24pXG4gICAgfVxuXG4gICAgcmV0dXJuIGdlbmVyYXRlUVJSZXNwb25zZShtYWNoaW5lLmlkLCBtYWNoaW5lLm5hbWUsIG1hY2hpbmUubG9jYXRpb24pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBnZXJhciBRUiBjb2RlIGRvIGtpb3NrOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVRUlJlc3BvbnNlKG1hY2hpbmVJZDogc3RyaW5nLCBtYWNoaW5lTmFtZTogc3RyaW5nLCBsb2NhdGlvbjogc3RyaW5nKSB7XG4gIGNvbnNvbGUubG9nKCfwn5SQIEdlcmFuZG8gUVIgY29kZSBzZWd1cm8gcGFyYSBtw6FxdWluYTonLCBtYWNoaW5lSWQpXG4gIFxuICB0cnkge1xuICAgIC8vIEdlcmFyIFFSIGNvZGUgc2VndXJvIGNvbSBITUFDLVNIQTI1NiAoNjAgc2VndW5kb3MgZGUgZXhwaXJhw6fDo28pXG4gICAgY29uc3Qgc2VjdXJlUVIgPSBnZW5lcmF0ZVNlY3VyZVFSKG1hY2hpbmVJZCwgNjApXG4gICAgXG4gICAgLy8gRXh0cmFpciBub25jZSBkbyBwYXlsb2FkIGRlIGZvcm1hIHNlZ3VyYVxuICAgIGxldCBub25jZTogc3RyaW5nXG4gICAgbGV0IHBheWxvYWQ6IGFueVxuICAgIGxldCBleHBpcmVzQXQ6IERhdGVcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gRGVjb2RpZmljYXIgcGF5bG9hZFxuICAgICAgY29uc3QgcGF5bG9hZEpzb24gPSBCdWZmZXIuZnJvbShzZWN1cmVRUi5wYXlsb2FkLCAnYmFzZTY0dXJsJykudG9TdHJpbmcoJ3V0ZjgnKVxuICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UocGF5bG9hZEpzb24pXG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXIgcGF5bG9hZFxuICAgICAgaWYgKCFwYXlsb2FkLm5vbmNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm9uY2UgbsOjbyBlbmNvbnRyYWRvIG5vIHBheWxvYWQnKVxuICAgICAgfVxuICAgICAgaWYgKCFwYXlsb2FkLnRpbWVzdGFtcCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWVzdGFtcCBuw6NvIGVuY29udHJhZG8gbm8gcGF5bG9hZCcpXG4gICAgICB9XG4gICAgICBpZiAoIXBheWxvYWQuZXhwaXJlc0luKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwaXJlc0luIG7Do28gZW5jb250cmFkbyBubyBwYXlsb2FkJylcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbm9uY2UgPSBwYXlsb2FkLm5vbmNlXG4gICAgICBcbiAgICAgIC8vIENhbGN1bGFyIHRlbXBvIGRlIGV4cGlyYcOnw6NvIGJhc2VhZG8gbm8gcGF5bG9hZFxuICAgICAgZXhwaXJlc0F0ID0gbmV3IERhdGUocGF5bG9hZC50aW1lc3RhbXAgKyAocGF5bG9hZC5leHBpcmVzSW4gKiAxMDAwKSlcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+KchSBbS0lPU0tdIFFSIGNvZGUgZ2VyYWRvOicsIHtcbiAgICAgICAgbWFjaGluZUlkLFxuICAgICAgICBub25jZTogbm9uY2Uuc3Vic3RyaW5nKDAsIDgpICsgJy4uLicsXG4gICAgICAgIGV4cGlyZXNBdDogZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGV4cGlyZXNJbjogcGF5bG9hZC5leHBpcmVzSW5cbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZGVjb2RlRXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFtLSU9TS10gRXJybyBhbyBkZWNvZGlmaWNhciBwYXlsb2FkIGRvIFFSOicsIGRlY29kZUVycm9yKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvIGFvIGdlcmFyIFFSIGNvZGU6ICR7ZGVjb2RlRXJyb3IubWVzc2FnZX1gKVxuICAgIH1cbiAgICBcbiAgICAvLyBTYWx2YXIgZXZlbnRvIFFSIG5vIGJhbmNvIHBhcmEgYXVkaXRvcmlhXG4gICAgYXdhaXQgcHJpc21hLnFyRXZlbnQuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbWFjaGluZUlkLFxuICAgICAgICBxckRhdGE6IHNlY3VyZVFSLmZ1bGxRUixcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIGV4cGlyZXNBdCxcbiAgICAgICAgdXNlZDogZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coJ+KchSBbS0lPU0tdIFFSIGNvZGUgc2VndXJvIGdlcmFkbyBlIHNhbHZvIG5vIGJhbmNvJylcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgcXJEYXRhOiBzZWN1cmVRUi5mdWxsUVIsXG4gICAgICBtYWNoaW5lSWQsXG4gICAgICBtYWNoaW5lTmFtZSxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZXhwaXJlc0F0OiBleHBpcmVzQXQudG9JU09TdHJpbmcoKSxcbiAgICAgIHZhbGlkRm9yOiBwYXlsb2FkLmV4cGlyZXNJbiwgLy8gVXNhciBleHBpcmVzSW4gZG8gcGF5bG9hZFxuICAgICAgc2VjdXJpdHk6IHtcbiAgICAgICAgc2lnbmVkOiB0cnVlLFxuICAgICAgICBhbGdvcml0aG06ICdITUFDLVNIQTI1NicsXG4gICAgICAgIHZlcnNpb246ICd2MSdcbiAgICAgIH1cbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFtLSU9TS10gRXJybyBhbyBnZXJhciBRUiBjb2RlOicsIGVycm9yKVxuICAgIFxuICAgIC8vIFZlcmlmaWNhciBzZSDDqSBlcnJvIGRlIFFSX1NFQ1JFVFxuICAgIGlmIChlcnJvci5tZXNzYWdlICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ1FSX1NFQ1JFVCcpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgZXJyb3I6ICdFcnJvIGRlIGNvbmZpZ3VyYcOnw6NvOiBRUl9TRUNSRVQgbsOjbyBlc3TDoSBjb25maWd1cmFkbyBubyBzZXJ2aWRvcicsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgICB9XG4gICAgXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInByaXNtYSIsImdlbmVyYXRlU2VjdXJlUVIiLCJHRVQiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsIm1hY2hpbmUiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsImlzQWN0aXZlIiwiZGVmYXVsdE1hY2hpbmUiLCJjcmVhdGUiLCJkYXRhIiwibmFtZSIsImxvY2F0aW9uIiwiZ2VuZXJhdGVRUlJlc3BvbnNlIiwiaWQiLCJlcnJvciIsImpzb24iLCJzdGF0dXMiLCJtYWNoaW5lSWQiLCJtYWNoaW5lTmFtZSIsInNlY3VyZVFSIiwibm9uY2UiLCJwYXlsb2FkIiwiZXhwaXJlc0F0IiwicGF5bG9hZEpzb24iLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJKU09OIiwicGFyc2UiLCJFcnJvciIsInRpbWVzdGFtcCIsImV4cGlyZXNJbiIsIkRhdGUiLCJzdWJzdHJpbmciLCJ0b0lTT1N0cmluZyIsImRlY29kZUVycm9yIiwibWVzc2FnZSIsInFyRXZlbnQiLCJxckRhdGEiLCJmdWxsUVIiLCJ1c2VkIiwidmFsaWRGb3IiLCJzZWN1cml0eSIsInNpZ25lZCIsImFsZ29yaXRobSIsInZlcnNpb24iLCJpbmNsdWRlcyIsImRldGFpbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/kiosk/qr/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nocm9ub3Mtc3lzdGVtLy4vbGliL3ByaXNtYS50cz85ODIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./lib/qr-security.ts":
/*!****************************!*\
  !*** ./lib/qr-security.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateNonce: () => (/* binding */ generateNonce),\n/* harmony export */   generateRecordHash: () => (/* binding */ generateRecordHash),\n/* harmony export */   generateSecureQR: () => (/* binding */ generateSecureQR),\n/* harmony export */   isNonceUsed: () => (/* binding */ isNonceUsed),\n/* harmony export */   markNonceAsUsed: () => (/* binding */ markNonceAsUsed),\n/* harmony export */   validateSecureQR: () => (/* binding */ validateSecureQR)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n// Chave secreta para HMAC - OBRIGATÓRIA\nconst QR_SECRET = process.env.QR_SECRET;\nif (!QR_SECRET) {\n    throw new Error(\"QR_SECRET environment variable is required\");\n}\n/**\n * Valida se QR_SECRET está configurado\n */ function validateQRSecret() {\n    if (!QR_SECRET) {\n        throw new Error(\"QR_SECRET n\\xe3o est\\xe1 configurado. Configure a vari\\xe1vel de ambiente QR_SECRET.\");\n    }\n}\n/**\n * Gera um QR code seguro com assinatura HMAC-SHA256\n * @param machineId - ID da máquina\n * @param expiresIn - Tempo de expiração em segundos (padrão: 60 segundos)\n */ function generateSecureQR(machineId, expiresIn = 60) {\n    // Validar QR_SECRET\n    validateQRSecret();\n    // Gerar nonce único\n    const nonce = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(16).toString(\"hex\");\n    // Criar payload\n    const payload = {\n        machineId,\n        timestamp: Date.now(),\n        nonce,\n        expiresIn,\n        version: \"v1\"\n    };\n    // Converter payload para base64url\n    const payloadJson = JSON.stringify(payload);\n    const payloadBase64 = Buffer.from(payloadJson).toString(\"base64url\");\n    // Gerar assinatura HMAC-SHA256\n    const signature = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", QR_SECRET).update(payloadBase64).digest(\"base64url\");\n    // Combinar payload + signature\n    const fullQR = `${payloadBase64}.${signature}`;\n    return {\n        payload: payloadBase64,\n        signature,\n        fullQR\n    };\n}\n/**\n * Valida um QR code seguro\n */ function validateSecureQR(qrData) {\n    try {\n        // Validar QR_SECRET\n        if (!QR_SECRET) {\n            return {\n                isValid: false,\n                error: \"QR_SECRET n\\xe3o est\\xe1 configurado no servidor\"\n            };\n        }\n        // Separar payload e signature\n        const parts = qrData.split(\".\");\n        if (parts.length !== 2) {\n            return {\n                isValid: false,\n                error: \"Formato de QR inv\\xe1lido. Esperado: payload.signature\"\n            };\n        }\n        const [payloadBase64, receivedSignature] = parts;\n        // Recalcular assinatura\n        const expectedSignature = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", QR_SECRET).update(payloadBase64).digest(\"base64url\");\n        // Verificação timing-safe\n        if (!crypto__WEBPACK_IMPORTED_MODULE_0___default().timingSafeEqual(Buffer.from(expectedSignature, \"base64url\"), Buffer.from(receivedSignature, \"base64url\"))) {\n            return {\n                isValid: false,\n                error: \"Assinatura inv\\xe1lida\"\n            };\n        }\n        // Decodificar payload\n        const payloadJson = Buffer.from(payloadBase64, \"base64url\").toString(\"utf8\");\n        const payload = JSON.parse(payloadJson);\n        // Validar timestamp (expiração)\n        const now = Date.now();\n        const expirationTime = payload.timestamp + payload.expiresIn * 1000;\n        if (now > expirationTime) {\n            return {\n                isValid: false,\n                error: \"QR code expirado\"\n            };\n        }\n        // Validar campos obrigatórios\n        if (!payload.machineId || !payload.nonce || !payload.timestamp) {\n            return {\n                isValid: false,\n                error: \"Payload inv\\xe1lido\"\n            };\n        }\n        return {\n            isValid: true,\n            payload\n        };\n    } catch (error) {\n        return {\n            isValid: false,\n            error: \"Erro ao validar QR code\"\n        };\n    }\n}\n/**\n * Gera um nonce único para anti-replay\n */ function generateNonce() {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(16).toString(\"hex\");\n}\n/**\n * OTIMIZAÇÃO: Cache de nonce removido\n * \n * O sistema JÁ usa o banco de dados (QrEvent.used) como fonte principal de verdade.\n * O cache em memória era redundante e causava problemas em deploys/restarts.\n * \n * A verificação de nonce usado agora é feita APENAS no banco de dados,\n * que é mais confiável e persistente.\n */ function isNonceUsed(nonce) {\n    // DEPRECATED: Função mantida para compatibilidade\n    // A verificação real é feita no banco de dados via QrEvent.used\n    console.warn(\"⚠️ [QR-SECURITY] isNonceUsed() est\\xe1 deprecated. Use verifica\\xe7\\xe3o no banco de dados.\");\n    return false;\n}\nfunction markNonceAsUsed(nonce) {\n    // DEPRECATED: Função mantida para compatibilidade\n    // O nonce é marcado como usado no banco de dados via QrEvent.used\n    console.warn(\"⚠️ [QR-SECURITY] markNonceAsUsed() est\\xe1 deprecated. Use QrEvent.used no banco.\");\n}\n/**\n * Gera hash para integridade de registros (hash chain)\n */ function generateRecordHash(userId, machineId, type, timestamp, prevHash) {\n    const data = `${userId}:${machineId}:${type}:${timestamp}:${prevHash || \"\"}`;\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(\"sha256\").update(data).digest(\"hex\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU87UUFBMEI7SUFDNUQ7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU1M7SUFDZCxPQUFPeEMseURBQWtCLENBQUMsSUFBSVcsUUFBUSxDQUFDO0FBQ3pDO0FBRUE7Ozs7Ozs7O0NBUUMsR0FFTSxTQUFTOEIsWUFBWWhDLEtBQWE7SUFDdkMsa0RBQWtEO0lBQ2xELGdFQUFnRTtJQUNoRWlDLFFBQVFDLElBQUksQ0FBQztJQUNiLE9BQU87QUFDVDtBQUVPLFNBQVNDLGdCQUFnQm5DLEtBQWE7SUFDM0Msa0RBQWtEO0lBQ2xELGtFQUFrRTtJQUNsRWlDLFFBQVFDLElBQUksQ0FBQztBQUNmO0FBRUE7O0NBRUMsR0FDTSxTQUFTRSxtQkFDZEMsTUFBYyxFQUNkdkMsU0FBaUIsRUFDakJ3QyxJQUFZLEVBQ1psQyxTQUFpQixFQUNqQm1DLFFBQWlCO0lBRWpCLE1BQU1DLE9BQU8sQ0FBQyxFQUFFSCxPQUFPLENBQUMsRUFBRXZDLFVBQVUsQ0FBQyxFQUFFd0MsS0FBSyxDQUFDLEVBQUVsQyxVQUFVLENBQUMsRUFBRW1DLFlBQVksR0FBRyxDQUFDO0lBQzVFLE9BQU9oRCx3REFBaUIsQ0FBQyxVQUFVeUIsTUFBTSxDQUFDd0IsTUFBTXZCLE1BQU0sQ0FBQztBQUN6RCIsInNvdXJjZXMiOlsid2VicGFjazovL2Nocm9ub3Mtc3lzdGVtLy4vbGliL3FyLXNlY3VyaXR5LnRzP2YxZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nXG5cbi8vIENoYXZlIHNlY3JldGEgcGFyYSBITUFDIC0gT0JSSUdBVMOTUklBXG5jb25zdCBRUl9TRUNSRVQgPSBwcm9jZXNzLmVudi5RUl9TRUNSRVRcbmlmICghUVJfU0VDUkVUKSB7XG4gIHRocm93IG5ldyBFcnJvcignUVJfU0VDUkVUIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIHJlcXVpcmVkJylcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRUlBheWxvYWQge1xuICBtYWNoaW5lSWQ6IHN0cmluZ1xuICB0aW1lc3RhbXA6IG51bWJlclxuICBub25jZTogc3RyaW5nXG4gIGV4cGlyZXNJbjogbnVtYmVyIC8vIHNlZ3VuZG9zXG4gIHZlcnNpb246IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlY3VyZVFSRGF0YSB7XG4gIHBheWxvYWQ6IHN0cmluZyAvLyBiYXNlNjR1cmwgZW5jb2RlZFxuICBzaWduYXR1cmU6IHN0cmluZyAvLyBITUFDLVNIQTI1NiBzaWduYXR1cmVcbiAgZnVsbFFSOiBzdHJpbmcgLy8gcGF5bG9hZC5zaWduYXR1cmVcbn1cblxuLyoqXG4gKiBWYWxpZGEgc2UgUVJfU0VDUkVUIGVzdMOhIGNvbmZpZ3VyYWRvXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUVJTZWNyZXQoKTogdm9pZCB7XG4gIGlmICghUVJfU0VDUkVUKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdRUl9TRUNSRVQgbsOjbyBlc3TDoSBjb25maWd1cmFkby4gQ29uZmlndXJlIGEgdmFyacOhdmVsIGRlIGFtYmllbnRlIFFSX1NFQ1JFVC4nKVxuICB9XG59XG5cbi8qKlxuICogR2VyYSB1bSBRUiBjb2RlIHNlZ3VybyBjb20gYXNzaW5hdHVyYSBITUFDLVNIQTI1NlxuICogQHBhcmFtIG1hY2hpbmVJZCAtIElEIGRhIG3DoXF1aW5hXG4gKiBAcGFyYW0gZXhwaXJlc0luIC0gVGVtcG8gZGUgZXhwaXJhw6fDo28gZW0gc2VndW5kb3MgKHBhZHLDo286IDYwIHNlZ3VuZG9zKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTZWN1cmVRUihtYWNoaW5lSWQ6IHN0cmluZywgZXhwaXJlc0luOiBudW1iZXIgPSA2MCk6IFNlY3VyZVFSRGF0YSB7XG4gIC8vIFZhbGlkYXIgUVJfU0VDUkVUXG4gIHZhbGlkYXRlUVJTZWNyZXQoKVxuICBcbiAgLy8gR2VyYXIgbm9uY2Ugw7puaWNvXG4gIGNvbnN0IG5vbmNlID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDE2KS50b1N0cmluZygnaGV4JylcbiAgXG4gIC8vIENyaWFyIHBheWxvYWRcbiAgY29uc3QgcGF5bG9hZDogUVJQYXlsb2FkID0ge1xuICAgIG1hY2hpbmVJZCxcbiAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgbm9uY2UsXG4gICAgZXhwaXJlc0luLCAvLyBVc2FyIGV4cGlyZXNJbiBkbyBwYXLDom1ldHJvXG4gICAgdmVyc2lvbjogJ3YxJ1xuICB9XG5cbiAgLy8gQ29udmVydGVyIHBheWxvYWQgcGFyYSBiYXNlNjR1cmxcbiAgY29uc3QgcGF5bG9hZEpzb24gPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxuICBjb25zdCBwYXlsb2FkQmFzZTY0ID0gQnVmZmVyLmZyb20ocGF5bG9hZEpzb24pLnRvU3RyaW5nKCdiYXNlNjR1cmwnKVxuXG4gIC8vIEdlcmFyIGFzc2luYXR1cmEgSE1BQy1TSEEyNTZcbiAgY29uc3Qgc2lnbmF0dXJlID0gY3J5cHRvXG4gICAgLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIFFSX1NFQ1JFVCEpXG4gICAgLnVwZGF0ZShwYXlsb2FkQmFzZTY0KVxuICAgIC5kaWdlc3QoJ2Jhc2U2NHVybCcpXG5cbiAgLy8gQ29tYmluYXIgcGF5bG9hZCArIHNpZ25hdHVyZVxuICBjb25zdCBmdWxsUVIgPSBgJHtwYXlsb2FkQmFzZTY0fS4ke3NpZ25hdHVyZX1gXG5cbiAgcmV0dXJuIHtcbiAgICBwYXlsb2FkOiBwYXlsb2FkQmFzZTY0LFxuICAgIHNpZ25hdHVyZSxcbiAgICBmdWxsUVJcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYSB1bSBRUiBjb2RlIHNlZ3Vyb1xuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTZWN1cmVRUihxckRhdGE6IHN0cmluZyk6IHtcbiAgaXNWYWxpZDogYm9vbGVhblxuICBwYXlsb2FkPzogUVJQYXlsb2FkXG4gIGVycm9yPzogc3RyaW5nXG59IHtcbiAgdHJ5IHtcbiAgICAvLyBWYWxpZGFyIFFSX1NFQ1JFVFxuICAgIGlmICghUVJfU0VDUkVUKSB7XG4gICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgZXJyb3I6ICdRUl9TRUNSRVQgbsOjbyBlc3TDoSBjb25maWd1cmFkbyBubyBzZXJ2aWRvcicgfVxuICAgIH1cbiAgICBcbiAgICAvLyBTZXBhcmFyIHBheWxvYWQgZSBzaWduYXR1cmVcbiAgICBjb25zdCBwYXJ0cyA9IHFyRGF0YS5zcGxpdCgnLicpXG4gICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMikge1xuICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIGVycm9yOiAnRm9ybWF0byBkZSBRUiBpbnbDoWxpZG8uIEVzcGVyYWRvOiBwYXlsb2FkLnNpZ25hdHVyZScgfVxuICAgIH1cblxuICAgIGNvbnN0IFtwYXlsb2FkQmFzZTY0LCByZWNlaXZlZFNpZ25hdHVyZV0gPSBwYXJ0c1xuXG4gICAgLy8gUmVjYWxjdWxhciBhc3NpbmF0dXJhXG4gICAgY29uc3QgZXhwZWN0ZWRTaWduYXR1cmUgPSBjcnlwdG9cbiAgICAgIC5jcmVhdGVIbWFjKCdzaGEyNTYnLCBRUl9TRUNSRVQpXG4gICAgICAudXBkYXRlKHBheWxvYWRCYXNlNjQpXG4gICAgICAuZGlnZXN0KCdiYXNlNjR1cmwnKVxuXG4gICAgLy8gVmVyaWZpY2HDp8OjbyB0aW1pbmctc2FmZVxuICAgIGlmICghY3J5cHRvLnRpbWluZ1NhZmVFcXVhbChcbiAgICAgIEJ1ZmZlci5mcm9tKGV4cGVjdGVkU2lnbmF0dXJlLCAnYmFzZTY0dXJsJyksXG4gICAgICBCdWZmZXIuZnJvbShyZWNlaXZlZFNpZ25hdHVyZSwgJ2Jhc2U2NHVybCcpXG4gICAgKSkge1xuICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIGVycm9yOiAnQXNzaW5hdHVyYSBpbnbDoWxpZGEnIH1cbiAgICB9XG5cbiAgICAvLyBEZWNvZGlmaWNhciBwYXlsb2FkXG4gICAgY29uc3QgcGF5bG9hZEpzb24gPSBCdWZmZXIuZnJvbShwYXlsb2FkQmFzZTY0LCAnYmFzZTY0dXJsJykudG9TdHJpbmcoJ3V0ZjgnKVxuICAgIGNvbnN0IHBheWxvYWQ6IFFSUGF5bG9hZCA9IEpTT04ucGFyc2UocGF5bG9hZEpzb24pXG5cbiAgICAvLyBWYWxpZGFyIHRpbWVzdGFtcCAoZXhwaXJhw6fDo28pXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGNvbnN0IGV4cGlyYXRpb25UaW1lID0gcGF5bG9hZC50aW1lc3RhbXAgKyAocGF5bG9hZC5leHBpcmVzSW4gKiAxMDAwKVxuICAgIFxuICAgIGlmIChub3cgPiBleHBpcmF0aW9uVGltZSkge1xuICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIGVycm9yOiAnUVIgY29kZSBleHBpcmFkbycgfVxuICAgIH1cblxuICAgIC8vIFZhbGlkYXIgY2FtcG9zIG9icmlnYXTDs3Jpb3NcbiAgICBpZiAoIXBheWxvYWQubWFjaGluZUlkIHx8ICFwYXlsb2FkLm5vbmNlIHx8ICFwYXlsb2FkLnRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIGVycm9yOiAnUGF5bG9hZCBpbnbDoWxpZG8nIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBpc1ZhbGlkOiB0cnVlLCBwYXlsb2FkIH1cblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBlcnJvcjogJ0Vycm8gYW8gdmFsaWRhciBRUiBjb2RlJyB9XG4gIH1cbn1cblxuLyoqXG4gKiBHZXJhIHVtIG5vbmNlIMO6bmljbyBwYXJhIGFudGktcmVwbGF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU5vbmNlKCk6IHN0cmluZyB7XG4gIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoMTYpLnRvU3RyaW5nKCdoZXgnKVxufVxuXG4vKipcbiAqIE9USU1JWkHDh8ODTzogQ2FjaGUgZGUgbm9uY2UgcmVtb3ZpZG9cbiAqIFxuICogTyBzaXN0ZW1hIErDgSB1c2EgbyBiYW5jbyBkZSBkYWRvcyAoUXJFdmVudC51c2VkKSBjb21vIGZvbnRlIHByaW5jaXBhbCBkZSB2ZXJkYWRlLlxuICogTyBjYWNoZSBlbSBtZW3Ds3JpYSBlcmEgcmVkdW5kYW50ZSBlIGNhdXNhdmEgcHJvYmxlbWFzIGVtIGRlcGxveXMvcmVzdGFydHMuXG4gKiBcbiAqIEEgdmVyaWZpY2HDp8OjbyBkZSBub25jZSB1c2FkbyBhZ29yYSDDqSBmZWl0YSBBUEVOQVMgbm8gYmFuY28gZGUgZGFkb3MsXG4gKiBxdWUgw6kgbWFpcyBjb25macOhdmVsIGUgcGVyc2lzdGVudGUuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9uY2VVc2VkKG5vbmNlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgLy8gREVQUkVDQVRFRDogRnVuw6fDo28gbWFudGlkYSBwYXJhIGNvbXBhdGliaWxpZGFkZVxuICAvLyBBIHZlcmlmaWNhw6fDo28gcmVhbCDDqSBmZWl0YSBubyBiYW5jbyBkZSBkYWRvcyB2aWEgUXJFdmVudC51c2VkXG4gIGNvbnNvbGUud2Fybign4pqg77iPIFtRUi1TRUNVUklUWV0gaXNOb25jZVVzZWQoKSBlc3TDoSBkZXByZWNhdGVkLiBVc2UgdmVyaWZpY2HDp8OjbyBubyBiYW5jbyBkZSBkYWRvcy4nKVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcmtOb25jZUFzVXNlZChub25jZTogc3RyaW5nKTogdm9pZCB7XG4gIC8vIERFUFJFQ0FURUQ6IEZ1bsOnw6NvIG1hbnRpZGEgcGFyYSBjb21wYXRpYmlsaWRhZGVcbiAgLy8gTyBub25jZSDDqSBtYXJjYWRvIGNvbW8gdXNhZG8gbm8gYmFuY28gZGUgZGFkb3MgdmlhIFFyRXZlbnQudXNlZFxuICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbUVItU0VDVVJJVFldIG1hcmtOb25jZUFzVXNlZCgpIGVzdMOhIGRlcHJlY2F0ZWQuIFVzZSBRckV2ZW50LnVzZWQgbm8gYmFuY28uJylcbn1cblxuLyoqXG4gKiBHZXJhIGhhc2ggcGFyYSBpbnRlZ3JpZGFkZSBkZSByZWdpc3Ryb3MgKGhhc2ggY2hhaW4pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJlY29yZEhhc2goXG4gIHVzZXJJZDogc3RyaW5nLFxuICBtYWNoaW5lSWQ6IHN0cmluZyxcbiAgdHlwZTogc3RyaW5nLFxuICB0aW1lc3RhbXA6IG51bWJlcixcbiAgcHJldkhhc2g/OiBzdHJpbmdcbik6IHN0cmluZyB7XG4gIGNvbnN0IGRhdGEgPSBgJHt1c2VySWR9OiR7bWFjaGluZUlkfToke3R5cGV9OiR7dGltZXN0YW1wfToke3ByZXZIYXNoIHx8ICcnfWBcbiAgcmV0dXJuIGNyeXB0by5jcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUoZGF0YSkuZGlnZXN0KCdoZXgnKVxufVxuIl0sIm5hbWVzIjpbImNyeXB0byIsIlFSX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsInZhbGlkYXRlUVJTZWNyZXQiLCJnZW5lcmF0ZVNlY3VyZVFSIiwibWFjaGluZUlkIiwiZXhwaXJlc0luIiwibm9uY2UiLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwicGF5bG9hZCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJ2ZXJzaW9uIiwicGF5bG9hZEpzb24iLCJKU09OIiwic3RyaW5naWZ5IiwicGF5bG9hZEJhc2U2NCIsIkJ1ZmZlciIsImZyb20iLCJzaWduYXR1cmUiLCJjcmVhdGVIbWFjIiwidXBkYXRlIiwiZGlnZXN0IiwiZnVsbFFSIiwidmFsaWRhdGVTZWN1cmVRUiIsInFyRGF0YSIsImlzVmFsaWQiLCJlcnJvciIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJyZWNlaXZlZFNpZ25hdHVyZSIsImV4cGVjdGVkU2lnbmF0dXJlIiwidGltaW5nU2FmZUVxdWFsIiwicGFyc2UiLCJleHBpcmF0aW9uVGltZSIsImdlbmVyYXRlTm9uY2UiLCJpc05vbmNlVXNlZCIsImNvbnNvbGUiLCJ3YXJuIiwibWFya05vbmNlQXNVc2VkIiwiZ2VuZXJhdGVSZWNvcmRIYXNoIiwidXNlcklkIiwidHlwZSIsInByZXZIYXNoIiwiZGF0YSIsImNyZWF0ZUhhc2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/qr-security.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fkiosk%2Fqr%2Froute&page=%2Fapi%2Fkiosk%2Fqr%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fkiosk%2Fqr%2Froute.ts&appDir=%2Fhome%2Fdeppi%2FChronosSystem%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fdeppi%2FChronosSystem&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();