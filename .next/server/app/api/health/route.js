"use strict";(()=>{var e={};e.id=8829,e.ids=[8829],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},79152:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>d,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>h,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var r={};a.r(r),a.d(r,{GET:()=>u});var o=a(49303),s=a(88716),n=a(60670),i=a(87070),p=a(83493);async function u(){try{await p._.$queryRaw`SELECT 1`;let[e,t]=await Promise.all([p._.user.count(),p._.machine.count()]);return i.NextResponse.json({status:"healthy",timestamp:new Date().toISOString(),version:process.env.npm_package_version||"2.0.0",environment:"production",database:{status:"connected",users:e,machines:t},uptime:process.uptime(),memory:{used:Math.round(process.memoryUsage().heapUsed/1024/1024),total:Math.round(process.memoryUsage().heapTotal/1024/1024)}},{status:200,headers:{"Cache-Control":"no-store, max-age=0"}})}catch(e){return console.error("Health check failed:",e),i.NextResponse.json({status:"unhealthy",timestamp:new Date().toISOString(),error:"Database connection failed"},{status:503,headers:{"Cache-Control":"no-store, max-age=0"}})}}let h=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/home/deppi/ChronosSystem/app/api/health/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=h,d="/api/health/route";function g(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},83493:(e,t,a)=>{a.d(t,{_:()=>o});let r=require("@prisma/client"),o=globalThis.prisma??new r.PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,5972],()=>a(79152));module.exports=r})();