(()=>{var e={};e.id=5740,e.ids=[5740],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},99166:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),r(56143),r(84752),r(35866);var a=r(23191),s=r(88716),o=r(37922),n=r.n(o),l=r(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["auth",{children:["complete-profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,56143)),"/home/deppi/ChronosSystem/app/auth/complete-profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,84752)),"/home/deppi/ChronosSystem/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/deppi/ChronosSystem/app/auth/complete-profile/page.tsx"],m="/auth/complete-profile/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/auth/complete-profile/page",pathname:"/auth/complete-profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28291:(e,t,r)=>{Promise.resolve().then(r.bind(r,60630))},17080:(e,t,r)=>{Promise.resolve().then(r.bind(r,78143))},72322:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},60630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(10326),s=r(77109),o=r(35047),n=r(17577),l=r(79635),i=r(5932),d=r(76557);let c=(0,d.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var m=r(77636),p=r(37358),u=r(31215);let h=(0,d.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var x=r(21021),g=r(3679),f=r(13431),v=r(85999);function b(){let{data:e,status:t,update:r}=(0,s.useSession)();(0,o.useRouter)();let[d,b]=(0,n.useState)({}),[j,y]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[P,C]=(0,n.useState)({}),[k,D]=(0,n.useState)(!1),R=(0,n.useRef)(null),S=()=>{console.log("\uD83D\uDD0D Validando formul\xe1rio com dados:",d);let e={};return d.phone?/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(d.phone)||(e.phone="Formato inv\xe1lido. Use: (11) 99999-9999"):e.phone="Telefone \xe9 obrigat\xf3rio",d.address||(e.address="Endere\xe7o \xe9 obrigat\xf3rio"),d.birthDate||(e.birthDate="Data de nascimento \xe9 obrigat\xf3ria"),d.emergencyContact||(e.emergencyContact="Contato de emerg\xeancia \xe9 obrigat\xf3rio"),d.emergencyPhone?/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(d.emergencyPhone)||(e.emergencyPhone="Formato inv\xe1lido. Use: (11) 99999-9999"):e.emergencyPhone="Telefone de emerg\xeancia \xe9 obrigat\xf3rio",d.department||(e.department="Departamento \xe9 obrigat\xf3rio"),d.startDate||(e.startDate="Data de in\xedcio \xe9 obrigat\xf3ria"),Object.keys(e).length>0?console.log("❌ Erros de valida\xe7\xe3o encontrados:",e):console.log("✅ Valida\xe7\xe3o passou - todos os campos OK"),C(e),0===Object.keys(e).length},E=async e=>{if(console.log("\uD83D\uDE80 handleSubmit chamado!"),e.preventDefault(),console.log("\uD83D\uDCDD Dados do formul\xe1rio:",d),!S()){console.log("❌ Valida\xe7\xe3o falhou");return}console.log("✅ Valida\xe7\xe3o passou");try{y(!0),C({}),console.log("Enviando dados:",d);let e=await fetch("/api/auth/complete-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(console.log("Response status:",e.status),e.ok){let t=await e.json();console.log("Perfil salvo com sucesso:",t),v.Am.success("Perfil completado com sucesso!"),w(!0);let r=t.redirectUrl||"/employee";console.log("URL de redirecionamento:",r),t.forceReload?(console.log("For\xe7ando navega\xe7\xe3o completa para:",r),console.log("Tentativa 1: Redirecionamento imediato"),window.location.href=r,setTimeout(()=>{console.log("Tentativa 2: Redirecionamento com setTimeout 500ms"),window.location.href=r},500),setTimeout(()=>{console.log("Tentativa 3: Redirecionamento com setTimeout 1500ms"),window.location.href=r},1500),setTimeout(()=>{console.log("Tentativa 4: window.location.replace"),window.location.replace(r)},2e3)):setTimeout(()=>{console.log("For\xe7ando reload da p\xe1gina..."),window.location.reload()},1500)}else{let t=await e.json();console.error("Erro na API:",t);let r=t.message||"Erro ao salvar perfil";C({general:r}),v.Am.error(r)}}catch(t){console.error("Erro no submit:",t);let e="Erro interno. Tente novamente.";C({general:e}),v.Am.error(e)}finally{y(!1)}},T=e=>{let t=e.replace(/\D/g,"");return t.length<=10?t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},Z=(e,t)=>{let r=T(t);b(t=>({...t,[e]:r}))};return"loading"===t?a.jsx(f.gb,{}):e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 flex items-center justify-center p-6",children:a.jsx("div",{className:"w-full max-w-2xl",children:(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(l.Z,{className:"h-8 w-8 text-primary"})}),a.jsx(x.ll,{className:"text-2xl",children:"Complete seu Perfil"}),(0,a.jsxs)("p",{className:"text-neutral-400",children:["Ol\xe1, ",e.user.name,"! Para continuar, precisamos de algumas informa\xe7\xf5es adicionais."]})]}),a.jsx(x.aY,{children:(0,a.jsxs)("form",{ref:R,onSubmit:E,className:"space-y-6",children:[P.general&&a.jsx("div",{className:"p-4 bg-error/20 border border-error/50 rounded-lg text-error text-sm",children:P.general}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Informa\xe7\xf5es Pessoais"}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Email (j\xe1 confirmado)"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),a.jsx("input",{type:"email",value:e.user.email||"",disabled:!0,className:"input pl-10 bg-neutral-700"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Telefone *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),a.jsx("input",{type:"tel",placeholder:"(11) 99999-9999",className:`input pl-10 ${P.phone?"border-error":""}`,value:d.phone||"",onChange:e=>Z("phone",e.target.value),maxLength:15})]}),P.phone&&a.jsx("p",{className:"text-error text-xs mt-1",children:P.phone})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Endere\xe7o Completo *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),a.jsx("textarea",{placeholder:"Rua, n\xfamero, bairro, cidade, CEP",className:`input pl-10 min-h-[80px] resize-none ${P.address?"border-error":""}`,value:d.address||"",onChange:e=>b(t=>({...t,address:e.target.value}))})]}),P.address&&a.jsx("p",{className:"text-error text-xs mt-1",children:P.address})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Data de Nascimento *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),a.jsx("input",{type:"date",className:`input pl-10 ${P.birthDate?"border-error":""}`,value:d.birthDate||"",onChange:e=>b(t=>({...t,birthDate:e.target.value}))})]}),P.birthDate&&a.jsx("p",{className:"text-error text-xs mt-1",children:P.birthDate})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Contato de Emerg\xeancia"}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Nome do Contato *"}),a.jsx("input",{type:"text",placeholder:"Nome completo",className:`input ${P.emergencyContact?"border-error":""}`,value:d.emergencyContact||"",onChange:e=>b(t=>({...t,emergencyContact:e.target.value}))}),P.emergencyContact&&a.jsx("p",{className:"text-error text-xs mt-1",children:P.emergencyContact})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Telefone de Emerg\xeancia *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),a.jsx("input",{type:"tel",placeholder:"(11) 99999-9999",className:`input pl-10 ${P.emergencyPhone?"border-error":""}`,value:d.emergencyPhone||"",onChange:e=>Z("emergencyPhone",e.target.value),maxLength:15})]}),P.emergencyPhone&&a.jsx("p",{className:"text-error text-xs mt-1",children:P.emergencyPhone})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Informa\xe7\xf5es Profissionais"}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Departamento *"}),(0,a.jsxs)("select",{className:`input ${P.department?"border-error":""}`,value:d.department||"",onChange:e=>b(t=>({...t,department:e.target.value})),children:[a.jsx("option",{value:"",children:"Selecione o departamento"}),a.jsx("option",{value:"TI",children:"Tecnologia da Informa\xe7\xe3o"}),a.jsx("option",{value:"RH",children:"Recursos Humanos"}),a.jsx("option",{value:"FINANCEIRO",children:"Financeiro"}),a.jsx("option",{value:"MARKETING",children:"Marketing"}),a.jsx("option",{value:"VENDAS",children:"Vendas"}),a.jsx("option",{value:"OPERACOES",children:"Opera\xe7\xf5es"}),a.jsx("option",{value:"JURIDICO",children:"Jur\xeddico"}),a.jsx("option",{value:"OUTROS",children:"Outros"})]}),P.department&&a.jsx("p",{className:"text-error text-xs mt-1",children:P.department})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Data de In\xedcio *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),a.jsx("input",{type:"date",className:`input pl-10 ${P.startDate?"border-error":""}`,value:d.startDate||"",onChange:e=>b(t=>({...t,startDate:e.target.value}))})]}),P.startDate&&a.jsx("p",{className:"text-error text-xs mt-1",children:P.startDate})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-4 pt-6 border-t border-neutral-700",children:a.jsx(g.z,{type:"submit",disabled:j||N,className:"min-w-[150px]",children:N?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Redirecionando..."})]}):j?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Salvando..."})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(u.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Salvar e Continuar"}),a.jsx(h,{className:"h-4 w-4"})]})})})]})})]})})}):null}},78143:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>n});var a=r(10326),s=r(77109),o=r(85999);function n({children:e}){return(0,a.jsxs)(s.SessionProvider,{children:[e,a.jsx(o.x7,{position:"top-right",toastOptions:{style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})}},3679:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var a=r(10326),s=r(17577),o=r.n(s),n=r(77863);let l=o().forwardRef(({className:e,variant:t="primary",size:r="md",loading:s=!1,asChild:l=!1,children:i,disabled:d,...c},m)=>{let p=(0,n.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[t],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[r],s&&"opacity-50 cursor-not-allowed",e);return l?o().cloneElement(i,{className:(0,n.cn)(p,i.props?.className),...c}):(0,a.jsxs)("button",{className:p,ref:m,disabled:d||s,...c,children:[s&&a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),i]})});l.displayName="Button"},21021:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>i,Zb:()=>l,aY:()=>c,ll:()=>d});var a=r(10326),s=r(17577),o=r.n(s),n=r(77863);let l=o().forwardRef(({className:e,variant:t="default",children:r,...s},o)=>a.jsx("div",{ref:o,className:(0,n.cn)({default:"card",glass:"card glass",elevated:"card shadow-xl hover:shadow-2xl transition-shadow duration-300"}[t],e),...s,children:r}));l.displayName="Card";let i=o().forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let d=o().forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",o().forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let c=o().forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",o().forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},13431:(e,t,r)=>{"use strict";r.d(t,{gb:()=>o});var a=r(10326);r(17577);var s=r(77863);function o({size:e="md",className:t,text:r}){return(0,a.jsxs)("div",{className:(0,s.cn)("flex flex-col items-center justify-center space-y-2",t),children:[a.jsx("div",{className:(0,s.cn)("animate-spin rounded-full border-2 border-primary border-t-transparent",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])}),r&&a.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:r})]})}},77863:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(41135),s=r(31009);function o(...e){return(0,s.m6)((0,a.W)(e))}},37358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5932:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},77636:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},31215:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},79635:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},35047:(e,t,r)=>{"use strict";var a=r(77389);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},56143:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/auth/complete-profile/page.tsx#default`)},84752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>l});var a=r(19510),s=r(85384),o=r.n(s);r(67272);let n=(0,r(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/providers.tsx#Providers`),l={title:"Chronos System - Sistema de Ponto Eletr\xf4nico",description:"Sistema moderno de registro de ponto eletr\xf4nico para estagi\xe1rios",keywords:["ponto eletr\xf4nico","registro","estagi\xe1rios","controle de ponto"],authors:[{name:"Chronos System"}],viewport:"width=device-width, initial-scale=1",themeColor:"#10B981",manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"}};function i({children:e}){return a.jsx("html",{lang:"pt-BR",className:"dark",children:a.jsx("body",{className:o().className,children:a.jsx(n,{children:e})})})}},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,1141,7405],()=>r(99166));module.exports=a})();