(()=>{var e={};e.id=9766,e.ids=[9766],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4383:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(19709),s(84752),s(35866);var a=s(23191),r=s(88716),i=s(37922),n=s.n(i),l=s(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["employee",{children:["justifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,19709)),"/home/deppi/ChronosSystem/app/employee/justifications/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,84752)),"/home/deppi/ChronosSystem/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/deppi/ChronosSystem/app/employee/justifications/page.tsx"],m="/employee/justifications/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/employee/justifications/page",pathname:"/employee/justifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},74554:(e,t,s)=>{Promise.resolve().then(s.bind(s,61176))},17080:(e,t,s)=>{Promise.resolve().then(s.bind(s,78143))},72322:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},61176:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(10326),r=s(77109),i=s(35047),n=s(17577),l=s(90434),c=s(86333),o=s(37202),d=s(48998),m=s(37358),u=s(83855);let x=(0,s(76557).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var p=s(36283),h=s(21021),f=s(3679),j=s(13431);function y(){let{data:e,status:t}=(0,r.useSession)();(0,i.useRouter)();let[s,y]=(0,n.useState)([]),[v,g]=(0,n.useState)([]),[b,N]=(0,n.useState)(!0),[w,k]=(0,n.useState)(!1),[P,S]=(0,n.useState)(null),[C,E]=(0,n.useState)(""),[Z,R]=(0,n.useState)(!1),A=async()=>{try{let e=await fetch("/api/employee/justifications");if(e.ok){let t=await e.json();t.success&&y(t.justifications)}}catch(e){}},D=async()=>{try{N(!0);let e=await fetch("/api/justifications/pending");if(e.ok){let t=await e.json();g(t)}}catch(e){}finally{N(!1)}},_=async()=>{if(P&&C.trim())try{R(!0);let e=await fetch("/api/employee/justifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:P.type,date:P.date,reason:C})}),t=await e.json();e.ok&&t.success?(k(!1),S(null),E(""),A(),D(),alert(t.message)):alert(t.error||"Erro ao enviar justificativa")}catch(e){alert("Erro ao enviar justificativa")}finally{R(!1)}},q=e=>{switch(e){case"PENDING":return"text-warning bg-warning/20";case"APPROVED":return"text-success bg-success/20";case"REJECTED":return"text-error bg-error/20";default:return"text-neutral-400 bg-neutral-700"}},z=e=>{switch(e){case"PENDING":return"Pendente";case"APPROVED":return"Aprovada";case"REJECTED":return"Rejeitada";default:return e}},T=e=>{switch(e){case"LATE":return"Atraso";case"ABSENCE":return"Falta";default:return e}};return"loading"===t||b?a.jsx(j.gb,{}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:[a.jsx("div",{className:"bg-neutral-800/50 border-b border-neutral-700",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(f.z,{asChild:!0,variant:"ghost",size:"sm",children:(0,a.jsxs)(l.default,{href:"/employee",children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Voltar ao Portal"]})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Justificativas"}),a.jsx("p",{className:"text-neutral-400",children:"Gerencie suas justificativas de atraso e falta"})]})]})})})}),(0,a.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[v.length>0&&(0,a.jsxs)(h.Zb,{className:"mb-6 border-warning/50",children:[a.jsx(h.Ol,{children:(0,a.jsxs)(h.ll,{className:"flex items-center space-x-2 text-warning",children:[a.jsx(o.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Pend\xeancias que Requerem Justificativa"})]})}),a.jsx(h.aY,{children:a.jsx("div",{className:"space-y-4",children:v.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-warning/10 rounded-lg border border-warning/20",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-2 rounded-full ${"LATE"===e.type?"bg-warning/20":"bg-error/20"}`,children:"LATE"===e.type?a.jsx(d.Z,{className:"h-4 w-4 text-warning"}):a.jsx(m.Z,{className:"h-4 w-4 text-error"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:T(e.type)}),a.jsx("p",{className:"text-sm text-neutral-400",children:e.description}),a.jsx("p",{className:"text-xs text-neutral-500",children:new Date(e.date).toLocaleDateString("pt-BR")})]})]}),e.canJustify&&(0,a.jsxs)(f.z,{size:"sm",onClick:()=>{S(e),k(!0)},children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Justificar"]})]},e.id))})})]}),w&&P&&(0,a.jsxs)(h.Zb,{className:"mb-6",children:[a.jsx(h.Ol,{children:(0,a.jsxs)(h.ll,{children:["Nova Justificativa - ",T(P.type)]})}),a.jsx(h.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Data da Ocorr\xeancia"}),a.jsx("input",{type:"text",value:new Date(P.date).toLocaleDateString("pt-BR"),disabled:!0,className:"input bg-neutral-700"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Descri\xe7\xe3o"}),a.jsx("input",{type:"text",value:P.description,disabled:!0,className:"input bg-neutral-700"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Justificativa *"}),a.jsx("textarea",{className:"input min-h-[100px] resize-none",placeholder:"Descreva o motivo do atraso ou falta...",value:C,onChange:e=>E(e.target.value),maxLength:500}),(0,a.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:[C.length,"/500 caracteres"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(f.z,{onClick:_,disabled:!C.trim(),children:[a.jsx(x,{className:"h-4 w-4 mr-2"}),"Enviar Justificativa"]}),a.jsx(f.z,{variant:"ghost",onClick:()=>{k(!1),S(null),E("")},children:"Cancelar"})]})]})})]}),(0,a.jsxs)(h.Zb,{children:[a.jsx(h.Ol,{children:a.jsx(h.ll,{children:"Hist\xf3rico de Justificativas"})}),a.jsx(h.aY,{children:s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"p-4 border border-neutral-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full ${"LATE"===e.type?"bg-warning/20":"bg-error/20"}`,children:"LATE"===e.type?a.jsx(d.Z,{className:"h-4 w-4 text-warning"}):a.jsx(m.Z,{className:"h-4 w-4 text-error"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:T(e.type)}),a.jsx("p",{className:"text-sm text-neutral-400",children:new Date(e.date).toLocaleDateString("pt-BR")})]})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${q(e.status)}`,children:z(e.status)})]}),(0,a.jsxs)("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-300 mb-1",children:"Justificativa:"}),a.jsx("p",{className:"text-sm text-neutral-400",children:e.reason})]}),e.adminResponse&&(0,a.jsxs)("div",{className:"border-t border-neutral-700 pt-3",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-300 mb-1",children:"Resposta do Admin:"}),a.jsx("p",{className:"text-sm text-neutral-400",children:e.adminResponse})]}),(0,a.jsxs)("p",{className:"text-xs text-neutral-500 mt-2",children:["Enviado em ",new Date(e.createdAt).toLocaleDateString("pt-BR")]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(p.Z,{className:"h-12 w-12 text-neutral-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhuma justificativa encontrada"}),a.jsx("p",{className:"text-neutral-400",children:"Suas justificativas aparecer\xe3o aqui quando enviadas"})]})})]})]})]}):null}},78143:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>n});var a=s(10326),r=s(77109),i=s(85999);function n({children:e}){return(0,a.jsxs)(r.SessionProvider,{children:[e,a.jsx(i.x7,{position:"top-right",toastOptions:{style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})}},3679:(e,t,s)=>{"use strict";s.d(t,{z:()=>l});var a=s(10326),r=s(17577),i=s.n(r),n=s(77863);let l=i().forwardRef(({className:e,variant:t="primary",size:s="md",loading:r=!1,asChild:l=!1,children:c,disabled:o,...d},m)=>{let u=(0,n.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[t],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[s],r&&"opacity-50 cursor-not-allowed",e);return l?i().cloneElement(c,{className:(0,n.cn)(u,c.props?.className),...d}):(0,a.jsxs)("button",{className:u,ref:m,disabled:o||r,...d,children:[r&&a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),c]})});l.displayName="Button"},21021:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>c,Zb:()=>l,aY:()=>d,ll:()=>o});var a=s(10326),r=s(17577),i=s.n(r),n=s(77863);let l=i().forwardRef(({className:e,variant:t="default",children:s,...r},i)=>a.jsx("div",{ref:i,className:(0,n.cn)({default:"card",glass:"card glass",elevated:"card shadow-xl hover:shadow-2xl transition-shadow duration-300"}[t],e),...r,children:s}));l.displayName="Card";let c=i().forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));c.displayName="CardHeader";let o=i().forwardRef(({className:e,...t},s)=>a.jsx("h3",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle",i().forwardRef(({className:e,...t},s)=>a.jsx("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=i().forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",i().forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},13431:(e,t,s)=>{"use strict";s.d(t,{gb:()=>i});var a=s(10326);s(17577);var r=s(77863);function i({size:e="md",className:t,text:s}){return(0,a.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center justify-center space-y-2",t),children:[a.jsx("div",{className:(0,r.cn)("animate-spin rounded-full border-2 border-primary border-t-transparent",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])}),s&&a.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:s})]})}},77863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(41135),r=s(31009);function i(...e){return(0,r.m6)((0,a.W)(e))}},37202:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},86333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},36283:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},35047:(e,t,s)=>{"use strict";var a=s(77389);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},19709:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/employee/justifications/page.tsx#default`)},84752:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>l,viewport:()=>c});var a=s(19510),r=s(85384),i=s.n(r);s(67272);let n=(0,s(68570).createProxy)(String.raw`/home/deppi/ChronosSystem/app/providers.tsx#Providers`),l={title:"Chronos System - Sistema de Ponto Eletr\xf4nico",description:"Sistema moderno de registro de ponto eletr\xf4nico para estagi\xe1rios",keywords:["ponto eletr\xf4nico","registro","estagi\xe1rios","controle de ponto"],authors:[{name:"Chronos System"}],manifest:"/manifest.json",icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"},other:{"permissions-policy":"camera=*, microphone=*, geolocation=*","feature-policy":"camera *; microphone *; geolocation *"}},c={width:"device-width",initialScale:1,themeColor:"#10B981"};function o({children:e}){return a.jsx("html",{lang:"pt-BR",className:"dark",children:a.jsx("body",{className:i().className,children:a.jsx(n,{children:e})})})}},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9276,1141,7405,434],()=>s(4383));module.exports=a})();