(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[487],{669:function(e,s,t){Promise.resolve().then(t.bind(t,939))},939:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var r=t(7437),a=t(605),n=t(9376),i=t(2265),l=t(7648),c=t(9637),d=t(2369),o=t(7692),x=t(3774),m=t(9763);let u=(0,m.Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),h=(0,m.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),f=(0,m.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),p=(0,m.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),j=(0,m.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var y=t(3639),v=t(1047),N=t(9178),g=t(4226),b=t(3214);function w(){let{data:e,status:s}=(0,a.useSession)();(0,n.useRouter)();let[t,m]=(0,i.useState)(null),[w,k]=(0,i.useState)([]),[Z,R]=(0,i.useState)(!0),[C,E]=(0,i.useState)(!1),z=(0,i.useRef)(null);(0,i.useEffect)(()=>{"loading"===s||e||(0,a.signIn)()},[s]),(0,i.useEffect)(()=>{e&&H()},[e]);let H=async()=>{try{R(!0),await new Promise(e=>setTimeout(e,1e3)),m({isWorking:!0,lastRecord:{type:"ENTRY",time:"08:00",location:"Recep\xe7\xe3o Principal"},todayHours:"4h 32min"}),k([{id:"1",date:"Hoje",entry:"08:00",hours:"4h 32min",status:"Em andamento",location:"Recep\xe7\xe3o Principal"},{id:"2",date:"Ontem",entry:"08:15",exit:"17:30",hours:"8h 15min",status:"Completo",location:"Recep\xe7\xe3o Principal"},{id:"3",date:"20/10",entry:"08:00",exit:"17:00",hours:"8h 00min",status:"Completo",location:"Lab TI"}])}catch(e){console.error("Erro ao carregar dados do funcion\xe1rio:",e)}finally{R(!1)}},M=async()=>{try{E(!0);let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});z.current&&(z.current.srcObject=e)}catch(e){console.error("Erro ao acessar c\xe2mera:",e),alert("N\xe3o foi poss\xedvel acessar a c\xe2mera. Verifique as permiss\xf5es."),E(!1)}};return"loading"===s?(0,r.jsx)(b.gb,{size:"lg",text:"Carregando..."}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:[(0,r.jsx)("div",{className:"glass border-b border-neutral-700/50",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(l.default,{href:"/",className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:(0,r.jsx)(c.Z,{className:"h-6 w-6 text-primary"})}),(0,r.jsx)("div",{className:"h-6 w-px bg-neutral-600"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"bg-primary/20 rounded-xl p-2",children:(0,r.jsx)(d.Z,{className:"h-6 w-6 text-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-white",children:"Portal do Estagi\xe1rio"}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm",children:"Sistema Chronos - Registro de Ponto"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-white font-medium",children:e.user.name}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm",children:e.user.email})]}),(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/20 flex items-center justify-center",children:(0,r.jsx)(d.Z,{className:"h-5 w-5 text-primary"})}),(0,r.jsx)(g.z,{variant:"ghost",size:"sm",onClick:()=>(0,a.signOut)({callbackUrl:"/"}),children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})]})]})})}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:Z?(0,r.jsx)(b.gb,{size:"lg",text:"Carregando dados..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Zb,{variant:"glass",className:"mb-8",children:(0,r.jsx)(N.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full ".concat((null==t?void 0:t.isWorking)?"bg-primary animate-pulse":"bg-neutral-500")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-white",children:(null==t?void 0:t.isWorking)?"Trabalhando":"Fora do expediente"}),(null==t?void 0:t.lastRecord)&&(0,r.jsxs)("p",{className:"text-neutral-400 flex items-center mt-1",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-1"}),"\xdaltimo registro: ","ENTRY"===t.lastRecord.type?"Entrada":"Sa\xedda"," \xe0s ",t.lastRecord.time," - ",t.lastRecord.location]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"flex items-center text-primary mb-2",children:[(0,r.jsx)(u,{className:"h-5 w-5 mr-2"}),(0,r.jsx)("span",{className:"text-2xl font-bold",children:null==t?void 0:t.todayHours})]}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm",children:"Horas hoje"})]})]})})}),C&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-modal flex items-center justify-center p-4",children:(0,r.jsxs)(N.Zb,{variant:"glass",className:"w-full max-w-md",children:[(0,r.jsx)(N.Ol,{children:(0,r.jsx)(N.ll,{className:"text-white text-center",children:"Scanner QR Code"})}),(0,r.jsxs)(N.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,r.jsx)("video",{ref:z,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-primary/50 rounded-lg",children:(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,r.jsx)("div",{className:"w-32 h-32 border-2 border-primary rounded-lg animate-pulse"})})})]}),(0,r.jsx)("p",{className:"text-center text-neutral-400 text-sm",children:"Posicione o QR code dentro do quadrado"}),(0,r.jsx)(g.z,{onClick:()=>{var e;(null===(e=z.current)||void 0===e?void 0:e.srcObject)&&z.current.srcObject.getTracks().forEach(e=>e.stop()),E(!1)},variant:"secondary",className:"w-full",children:"Cancelar"})]})]})}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)(N.Zb,{variant:"glass",className:"group hover:scale-105 transition-all duration-200",children:(0,r.jsxs)(N.aY,{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"bg-primary/20 rounded-2xl w-20 h-20 flex items-center justify-center mx-auto mb-6 group-hover:bg-primary/30 transition-colors",children:(null==t?void 0:t.isWorking)?(0,r.jsx)(h,{className:"h-10 w-10 text-primary"}):(0,r.jsx)(f,{className:"h-10 w-10 text-primary"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:(null==t?void 0:t.isWorking)?"Registrar Sa\xedda":"Registrar Entrada"}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm mb-6",children:"Escaneie o QR code da m\xe1quina para registrar seu ponto"}),(0,r.jsxs)(g.z,{onClick:M,className:"w-full",children:[(0,r.jsx)(p,{className:"h-5 w-5 mr-2"}),"Abrir Scanner"]})]})}),(0,r.jsx)(N.Zb,{variant:"glass",className:"group hover:scale-105 transition-all duration-200",children:(0,r.jsxs)(N.aY,{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"bg-secondary-500/20 rounded-2xl w-20 h-20 flex items-center justify-center mx-auto mb-6 group-hover:bg-secondary-500/30 transition-colors",children:(0,r.jsx)(j,{className:"h-10 w-10 text-secondary-500"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Hist\xf3rico Completo"}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm mb-6",children:"Visualize seu hist\xf3rico de registros e relat\xf3rios mensais"}),(0,r.jsx)(g.z,{variant:"secondary",className:"w-full",children:"Ver Hist\xf3rico"})]})}),(0,r.jsx)(l.default,{href:"/employee/justifications",children:(0,r.jsx)(N.Zb,{variant:"glass",className:"group hover:scale-105 transition-all duration-200 cursor-pointer",children:(0,r.jsxs)(N.aY,{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"bg-warning/20 rounded-2xl w-20 h-20 flex items-center justify-center mx-auto mb-6 group-hover:bg-warning/30 transition-colors",children:(0,r.jsx)(y.Z,{className:"h-10 w-10 text-warning"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Justificativas"}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm mb-6",children:"Justifique atrasos e faltas (>30 min)"}),(0,r.jsx)(g.z,{variant:"ghost",className:"w-full border border-warning/30 hover:bg-warning/10",children:"Gerenciar"})]})})})]}),(0,r.jsxs)(N.Zb,{variant:"glass",children:[(0,r.jsx)(N.Ol,{children:(0,r.jsxs)(N.ll,{className:"flex items-center text-white",children:[(0,r.jsx)(v.Z,{className:"h-5 w-5 mr-2 text-primary"}),"Registros Recentes"]})}),(0,r.jsxs)(N.aY,{children:[(0,r.jsx)("div",{className:"space-y-4",children:w.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-neutral-800/30 hover:bg-neutral-800/50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"text-center min-w-[60px]",children:(0,r.jsx)("p",{className:"text-white font-medium",children:e.date})}),(0,r.jsx)("div",{className:"h-8 w-px bg-neutral-600"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[e.entry&&(0,r.jsxs)("span",{className:"text-primary",children:["Entrada: ",e.entry]}),e.exit&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-neutral-500",children:"•"}),(0,r.jsxs)("span",{className:"text-warning",children:["Sa\xedda: ",e.exit]})]})]}),(0,r.jsxs)("p",{className:"text-neutral-400 text-xs mt-1 flex items-center",children:[(0,r.jsx)(x.Z,{className:"h-3 w-3 mr-1"}),e.location," • Total: ",e.hours]})]})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("span",{className:"text-xs px-3 py-1 rounded-full font-medium ".concat("Completo"===e.status?"bg-success/20 text-success border border-success/30":"bg-warning/20 text-warning border border-warning/30"),children:e.status})})]},e.id))}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)(g.z,{variant:"ghost",className:"text-primary hover:text-primary/80",children:"Ver todos os registros"})})]})]})]})})]}):null}},4226:function(e,s,t){"use strict";t.d(s,{z:function(){return i}});var r=t(7437),a=t(2265),n=t(4508);let i=a.forwardRef((e,s)=>{let{className:t,variant:i="primary",size:l="md",loading:c=!1,asChild:d=!1,children:o,disabled:x,...m}=e,u=(0,n.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[i],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[l],c&&"opacity-50 cursor-not-allowed",t);if(d){var h;return a.cloneElement(o,{className:(0,n.cn)(u,null===(h=o.props)||void 0===h?void 0:h.className),...m})}return(0,r.jsxs)("button",{className:u,ref:s,disabled:x||c,...m,children:[c&&(0,r.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),o]})});i.displayName="Button"},9178:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var r=t(7437),a=t(2265),n=t(4508);let i=a.forwardRef((e,s)=>{let{className:t,variant:a="default",children:i,...l}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)({default:"card",glass:"card glass",elevated:"card shadow-xl hover:shadow-2xl transition-shadow duration-300"}[a],t),...l,children:i})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},3214:function(e,s,t){"use strict";t.d(s,{gb:function(){return n}});var r=t(7437);t(2265);var a=t(4508);function n(e){let{size:s="md",className:t,text:n}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center space-y-2",t),children:[(0,r.jsx)("div",{className:(0,a.cn)("animate-spin rounded-full border-2 border-primary border-t-transparent",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[s])}),n&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground animate-pulse",children:n})]})}},4508:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var r=t(1994),a=t(3335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}},3639:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},9637:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},7692:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var r=t(2972),a=t.n(r)},9376:function(e,s,t){"use strict";var r=t(5475);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[554,605,972,971,117,744],function(){return e(e.s=669)}),_N_E=e.O()}]);